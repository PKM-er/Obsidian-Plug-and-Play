/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var aa=Object.create;var Xt=Object.defineProperty;var sa=Object.getOwnPropertyDescriptor;var la=Object.getOwnPropertyNames;var ca=Object.getPrototypeOf,ua=Object.prototype.hasOwnProperty;var fi=m=>Xt(m,"__esModule",{value:!0});var hi=(m,c)=>()=>(c||m((c={exports:{}}).exports,c),c.exports),da=(m,c)=>{fi(m);for(var u in c)Xt(m,u,{get:c[u],enumerable:!0})},pa=(m,c,u)=>{if(c&&typeof c=="object"||typeof c=="function")for(let h of la(c))!ua.call(m,h)&&h!=="default"&&Xt(m,h,{get:()=>c[h],enumerable:!(u=sa(c,h))||u.enumerable});return m},rt=m=>pa(fi(Xt(m!=null?aa(ca(m)):{},"default",m&&m.__esModule&&"default"in m?{get:()=>m.default,enumerable:!0}:{value:m,enumerable:!0})),m);var gi=hi((vi,Dn)=>{(function(m){typeof vi=="object"&&typeof Dn!="undefined"?Dn.exports=m():typeof define=="function"&&define.amd?define([],m):(typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this).interact=m()})(function(){var m={};Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0,m.default=function(e){return!(!e||!e.Window)&&e instanceof e.Window};var c={};Object.defineProperty(c,"__esModule",{value:!0}),c.init=y,c.getWindow=function(e){return(0,m.default)(e)?e:(e.ownerDocument||e).defaultView||h.window},c.window=c.realWindow=void 0;var u=void 0;c.realWindow=u;var h=void 0;function y(e){c.realWindow=u=e;var t=e.document.createTextNode("");t.ownerDocument!==e.document&&typeof e.wrap=="function"&&e.wrap(t)===t&&(e=e.wrap(e)),c.window=h=e}c.window=h,typeof window!="undefined"&&window&&y(window);var p={};function S(e){return(S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var P=function(e){return!!e&&S(e)==="object"},M=function(e){return typeof e=="function"},k={window:function(e){return e===c.window||(0,m.default)(e)},docFrag:function(e){return P(e)&&e.nodeType===11},object:P,func:M,number:function(e){return typeof e=="number"},bool:function(e){return typeof e=="boolean"},string:function(e){return typeof e=="string"},element:function(e){if(!e||S(e)!=="object")return!1;var t=c.getWindow(e)||c.window;return/object|function/.test(S(t.Element))?e instanceof t.Element:e.nodeType===1&&typeof e.nodeName=="string"},plainObject:function(e){return P(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString())},array:function(e){return P(e)&&e.length!==void 0&&M(e.splice)}};p.default=k;var Y={};function O(e){var t=e.interaction;if(t.prepared.name==="drag"){var o=t.prepared.axis;o==="x"?(t.coords.cur.page.y=t.coords.start.page.y,t.coords.cur.client.y=t.coords.start.client.y,t.coords.velocity.client.y=0,t.coords.velocity.page.y=0):o==="y"&&(t.coords.cur.page.x=t.coords.start.page.x,t.coords.cur.client.x=t.coords.start.client.x,t.coords.velocity.client.x=0,t.coords.velocity.page.x=0)}}function q(e){var t=e.iEvent,o=e.interaction;if(o.prepared.name==="drag"){var n=o.prepared.axis;if(n==="x"||n==="y"){var i=n==="x"?"y":"x";t.page[i]=o.coords.start.page[i],t.client[i]=o.coords.start.client[i],t.delta[i]=0}}}Object.defineProperty(Y,"__esModule",{value:!0}),Y.default=void 0;var B={id:"actions/drag",install:function(e){var t=e.actions,o=e.Interactable,n=e.defaults;o.prototype.draggable=B.draggable,t.map.drag=B,t.methodDict.drag="draggable",n.actions.drag=B.defaults},listeners:{"interactions:before-action-move":O,"interactions:action-resume":O,"interactions:action-move":q,"auto-start:check":function(e){var t=e.interaction,o=e.interactable,n=e.buttons,i=o.options.drag;if(i&&i.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||(n&o.options.drag.mouseButtons)!=0))return e.action={name:"drag",axis:i.lockAxis==="start"?i.startAxis:i.lockAxis},!1}},draggable:function(e){return p.default.object(e)?(this.options.drag.enabled=e.enabled!==!1,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^(xy|x|y|start)$/.test(e.lockAxis)&&(this.options.drag.lockAxis=e.lockAxis),/^(xy|x|y)$/.test(e.startAxis)&&(this.options.drag.startAxis=e.startAxis),this):p.default.bool(e)?(this.options.drag.enabled=e,this):this.options.drag},beforeMove:O,move:q,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},W=B;Y.default=W;var D={};Object.defineProperty(D,"__esModule",{value:!0}),D.default=void 0;var z={init:function(e){var t=e;z.document=t.document,z.DocumentFragment=t.DocumentFragment||ne,z.SVGElement=t.SVGElement||ne,z.SVGSVGElement=t.SVGSVGElement||ne,z.SVGElementInstance=t.SVGElementInstance||ne,z.Element=t.Element||ne,z.HTMLElement=t.HTMLElement||z.Element,z.Event=t.Event,z.Touch=t.Touch||ne,z.PointerEvent=t.PointerEvent||t.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function ne(){}var ue=z;D.default=ue;var G={};Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var oe={init:function(e){var t=D.default.Element,o=e.navigator||{};oe.supportsTouch="ontouchstart"in e||p.default.func(e.DocumentTouch)&&D.default.document instanceof e.DocumentTouch,oe.supportsPointerEvent=o.pointerEnabled!==!1&&!!D.default.PointerEvent,oe.isIOS=/iP(hone|od|ad)/.test(o.platform),oe.isIOS7=/iP(hone|od|ad)/.test(o.platform)&&/OS 7[^\d]/.test(o.appVersion),oe.isIe9=/MSIE 9/.test(o.userAgent),oe.isOperaMobile=o.appName==="Opera"&&oe.supportsTouch&&/Presto/.test(o.userAgent),oe.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",oe.pEventTypes=oe.supportsPointerEvent?D.default.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,oe.wheelEvent=D.default.document&&"onmousewheel"in D.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},Kt=oe;G.default=Kt;var I={};function ct(e){var t=e.parentNode;if(p.default.docFrag(t)){for(;(t=t.host)&&p.default.docFrag(t););return t}return t}function ut(e,t){return c.window!==c.realWindow&&(t=t.replace(/\/deep\//g," ")),e[G.default.prefixedMatchesSelector](t)}Object.defineProperty(I,"__esModule",{value:!0}),I.nodeContains=function(e,t){if(e.contains)return e.contains(t);for(;t;){if(t===e)return!0;t=t.parentNode}return!1},I.closest=function(e,t){for(;p.default.element(e);){if(ut(e,t))return e;e=ct(e)}return null},I.parentNode=ct,I.matchesSelector=ut,I.indexOfDeepestElement=function(e){for(var t,o=[],n=0;n<e.length;n++){var i=e[n],r=e[t];if(i&&n!==t)if(r){var l=Qt(i),a=Qt(r);if(l!==i.ownerDocument)if(a!==i.ownerDocument)if(l!==a){o=o.length?o:Vn(r);var s=void 0;if(r instanceof D.default.HTMLElement&&i instanceof D.default.SVGElement&&!(i instanceof D.default.SVGSVGElement)){if(i===a)continue;s=i.ownerSVGElement}else s=i;for(var d=Vn(s,r.ownerDocument),f=0;d[f]&&d[f]===o[f];)f++;var v=[d[f-1],d[f],o[f]];if(v[0])for(var b=v[0].lastChild;b;){if(b===v[1]){t=n,o=d;break}if(b===v[2])break;b=b.previousSibling}}else w=i,g=r,(parseInt(c.getWindow(w).getComputedStyle(w).zIndex,10)||0)>=(parseInt(c.getWindow(g).getComputedStyle(g).zIndex,10)||0)&&(t=n);else t=n}else t=n}var w,g;return t},I.matchesUpTo=function(e,t,o){for(;p.default.element(e);){if(ut(e,t))return!0;if((e=ct(e))===o)return ut(e,t)}return!1},I.getActualElement=function(e){return e.correspondingUseElement||e},I.getScrollXY=Bn,I.getElementClientRect=Nn,I.getElementRect=function(e){var t=Nn(e);if(!G.default.isIOS7&&t){var o=Bn(c.getWindow(e));t.left+=o.x,t.right+=o.x,t.top+=o.y,t.bottom+=o.y}return t},I.getPath=function(e){for(var t=[];e;)t.push(e),e=ct(e);return t},I.trySelector=function(e){return!!p.default.string(e)&&(D.default.document.querySelector(e),!0)};var Qt=function(e){return e.parentNode||e.host};function Vn(e,t){for(var o,n=[],i=e;(o=Qt(i))&&i!==t&&o!==i.ownerDocument;)n.unshift(i),i=o;return n}function Bn(e){return{x:(e=e||c.window).scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function Nn(e){var t=e instanceof D.default.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}var A={};Object.defineProperty(A,"__esModule",{value:!0}),A.default=function(e,t){for(var o in t)e[o]=t[o];return e};var U={};function Jt(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function Xn(e,t,o){return e==="parent"?(0,I.parentNode)(o):e==="self"?t.getRect(o):(0,I.closest)(o,e)}Object.defineProperty(U,"__esModule",{value:!0}),U.getStringOptionResult=Xn,U.resolveRectLike=function(e,t,o,n){var i,r=e;return p.default.string(r)?r=Xn(r,t,o):p.default.func(r)&&(r=r.apply(void 0,function(l){if(Array.isArray(l))return Jt(l)}(i=n)||function(l){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(l))return Array.from(l)}(i)||function(l,a){if(l){if(typeof l=="string")return Jt(l,a);var s=Object.prototype.toString.call(l).slice(8,-1);return s==="Object"&&l.constructor&&(s=l.constructor.name),s==="Map"||s==="Set"?Array.from(l):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Jt(l,a):void 0}}(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())),p.default.element(r)&&(r=(0,I.getElementRect)(r)),r},U.rectToXY=function(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}},U.xywhToTlbr=function(e){return!e||"left"in e&&"top"in e||((e=(0,A.default)({},e)).left=e.x||0,e.top=e.y||0,e.right=e.right||e.left+e.width,e.bottom=e.bottom||e.top+e.height),e},U.tlbrToXywh=function(e){return!e||"x"in e&&"y"in e||((e=(0,A.default)({},e)).x=e.left||0,e.y=e.top||0,e.width=e.width||(e.right||0)-e.x,e.height=e.height||(e.bottom||0)-e.y),e},U.addEdges=function(e,t,o){e.left&&(t.left+=o.x),e.right&&(t.right+=o.x),e.top&&(t.top+=o.y),e.bottom&&(t.bottom+=o.y),t.width=t.right-t.left,t.height=t.bottom-t.top};var xe={};Object.defineProperty(xe,"__esModule",{value:!0}),xe.default=function(e,t,o){var n=e.options[o],i=n&&n.origin||e.options.origin,r=(0,U.resolveRectLike)(i,e,t,[e&&t]);return(0,U.rectToXY)(r)||{x:0,y:0}};var Ae={};function Yn(e){return e.trim().split(/ +/)}Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.default=function e(t,o,n){if(n=n||{},p.default.string(t)&&t.search(" ")!==-1&&(t=Yn(t)),p.default.array(t))return t.reduce(function(s,d){return(0,A.default)(s,e(d,o,n))},n);if(p.default.object(t)&&(o=t,t=""),p.default.func(o))n[t]=n[t]||[],n[t].push(o);else if(p.default.array(o))for(var i=0;i<o.length;i++){var r;r=o[i],e(t,r,n)}else if(p.default.object(o))for(var l in o){var a=Yn(l).map(function(s){return"".concat(t).concat(s)});e(a,o[l],n)}return n};var me={};Object.defineProperty(me,"__esModule",{value:!0}),me.default=void 0,me.default=function(e,t){return Math.sqrt(e*e+t*t)};var qe={};function en(e,t){for(var o in t){var n=en.prefixedPropREs,i=!1;for(var r in n)if(o.indexOf(r)===0&&n[r].test(o)){i=!0;break}i||typeof t[o]=="function"||(e[o]=t[o])}return e}Object.defineProperty(qe,"__esModule",{value:!0}),qe.default=void 0,en.prefixedPropREs={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/,moz:/(Pressure)$/};var Ci=en;qe.default=Ci;var C={};function tn(e){return e instanceof D.default.Event||e instanceof D.default.Touch}function Ue(e,t,o){return e=e||"page",(o=o||{}).x=t[e+"X"],o.y=t[e+"Y"],o}function qn(e,t){return t=t||{x:0,y:0},G.default.isOperaMobile&&tn(e)?(Ue("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):Ue("page",e,t),t}function Un(e,t){return t=t||{},G.default.isOperaMobile&&tn(e)?Ue("screen",e,t):Ue("client",e,t),t}function dt(e){var t=[];return p.default.array(e)?(t[0]=e[0],t[1]=e[1]):e.type==="touchend"?e.touches.length===1?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):e.touches.length===0&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function $n(e){for(var t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},o=0;o<e.length;o++){var n=e[o];for(var i in t)t[i]+=n[i]}for(var r in t)t[r]/=e.length;return t}Object.defineProperty(C,"__esModule",{value:!0}),C.copyCoords=function(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp},C.setCoordDeltas=function(e,t,o){e.page.x=o.page.x-t.page.x,e.page.y=o.page.y-t.page.y,e.client.x=o.client.x-t.client.x,e.client.y=o.client.y-t.client.y,e.timeStamp=o.timeStamp-t.timeStamp},C.setCoordVelocity=function(e,t){var o=Math.max(t.timeStamp/1e3,.001);e.page.x=t.page.x/o,e.page.y=t.page.y/o,e.client.x=t.client.x/o,e.client.y=t.client.y/o,e.timeStamp=o},C.setZeroCoords=function(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0},C.isNativePointer=tn,C.getXY=Ue,C.getPageXY=qn,C.getClientXY=Un,C.getPointerId=function(e){return p.default.number(e.pointerId)?e.pointerId:e.identifier},C.setCoords=function(e,t,o){var n=t.length>1?$n(t):t[0];qn(n,e.page),Un(n,e.client),e.timeStamp=o},C.getTouchPair=dt,C.pointerAverage=$n,C.touchBBox=function(e){if(!e.length)return null;var t=dt(e),o=Math.min(t[0].pageX,t[1].pageX),n=Math.min(t[0].pageY,t[1].pageY),i=Math.max(t[0].pageX,t[1].pageX),r=Math.max(t[0].pageY,t[1].pageY);return{x:o,y:n,left:o,top:n,right:i,bottom:r,width:i-o,height:r-n}},C.touchDistance=function(e,t){var o=t+"X",n=t+"Y",i=dt(e),r=i[0][o]-i[1][o],l=i[0][n]-i[1][n];return(0,me.default)(r,l)},C.touchAngle=function(e,t){var o=t+"X",n=t+"Y",i=dt(e),r=i[1][o]-i[0][o],l=i[1][n]-i[0][n];return 180*Math.atan2(l,r)/Math.PI},C.getPointerType=function(e){return p.default.string(e.pointerType)?e.pointerType:p.default.number(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type||"")||e instanceof D.default.Touch?"touch":"mouse"},C.getEventTargets=function(e){var t=p.default.func(e.composedPath)?e.composedPath():e.path;return[I.getActualElement(t?t[0]:e.target),I.getActualElement(e.currentTarget)]},C.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},C.coordsToEvent=function(e){return{coords:e,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},Object.defineProperty(C,"pointerExtend",{enumerable:!0,get:function(){return qe.default}});var Ie={};function Ai(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.BaseEvent=void 0;var Gn=function(){function e(n){(function(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),this.type=void 0,this.target=void 0,this.currentTarget=void 0,this.interactable=void 0,this._interaction=void 0,this.timeStamp=void 0,this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=n}var t,o;return t=e,(o=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&Ai(t.prototype,o),e}();Ie.BaseEvent=Gn,Object.defineProperty(Gn.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var X={};Object.defineProperty(X,"__esModule",{value:!0}),X.find=X.findIndex=X.from=X.merge=X.remove=X.contains=void 0,X.contains=function(e,t){return e.indexOf(t)!==-1},X.remove=function(e,t){return e.splice(e.indexOf(t),1)};var Zn=function(e,t){for(var o=0;o<t.length;o++){var n=t[o];e.push(n)}return e};X.merge=Zn,X.from=function(e){return Zn([],e)};var Kn=function(e,t){for(var o=0;o<e.length;o++)if(t(e[o],o,e))return o;return-1};X.findIndex=Kn,X.find=function(e,t){return e[Kn(e,t)]};var pe={};function Qn(e){return(Qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ii(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Jn(e,t){return(Jn=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o})(e,t)}function Di(e,t){return!t||Qn(t)!=="object"&&typeof t!="function"?function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(e):t}function nn(e){return(nn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object.defineProperty(pe,"__esModule",{value:!0}),pe.DropEvent=void 0;var ji=function(e){(function(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),s&&Jn(a,s)})(l,e);var t,o,n,i,r=(n=l,i=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,s=nn(n);if(i){var d=nn(this).constructor;a=Reflect.construct(s,arguments,d)}else a=s.apply(this,arguments);return Di(this,a)});function l(a,s,d){var f;(function(g,x){if(!(g instanceof x))throw new TypeError("Cannot call a class as a function")})(this,l),(f=r.call(this,s._interaction)).target=void 0,f.dropzone=void 0,f.dragEvent=void 0,f.relatedTarget=void 0,f.draggable=void 0,f.timeStamp=void 0,f.propagationStopped=!1,f.immediatePropagationStopped=!1;var v=d==="dragleave"?a.prev:a.cur,b=v.element,w=v.dropzone;return f.type=d,f.target=b,f.currentTarget=b,f.dropzone=w,f.dragEvent=s,f.relatedTarget=s.target,f.draggable=s.interactable,f.timeStamp=s.timeStamp,f}return t=l,(o=[{key:"reject",value:function(){var a=this,s=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&s.cur.dropzone===this.dropzone&&s.cur.element===this.target)if(s.prev.dropzone=this.dropzone,s.prev.element=this.target,s.rejected=!0,s.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var d=s.activeDrops,f=X.findIndex(d,function(b){var w=b.dropzone,g=b.element;return w===a.dropzone&&g===a.target});s.activeDrops.splice(f,1);var v=new l(s,this.dragEvent,"dropdeactivate");v.dropzone=this.dropzone,v.target=this.target,this.dropzone.fire(v)}else this.dropzone.fire(new l(s,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&Ii(t.prototype,o),l}(Ie.BaseEvent);pe.DropEvent=ji;var pt={};function eo(e,t){for(var o=0;o<e.slice().length;o++){var n=e.slice()[o],i=n.dropzone,r=n.element;t.dropzone=i,t.target=r,i.fire(t),t.propagationStopped=t.immediatePropagationStopped=!1}}function on(e,t){for(var o=function(r,l){for(var a=r.interactables,s=[],d=0;d<a.list.length;d++){var f=a.list[d];if(f.options.drop.enabled){var v=f.options.drop.accept;if(!(p.default.element(v)&&v!==l||p.default.string(v)&&!I.matchesSelector(l,v)||p.default.func(v)&&!v({dropzone:f,draggableElement:l})))for(var b=p.default.string(f.target)?f._context.querySelectorAll(f.target):p.default.array(f.target)?f.target:[f.target],w=0;w<b.length;w++){var g=b[w];g!==l&&s.push({dropzone:f,element:g,rect:f.getRect(g)})}}}return s}(e,t),n=0;n<o.length;n++){var i=o[n];i.rect=i.dropzone.getRect(i.element)}return o}function to(e,t,o){for(var n=e.dropState,i=e.interactable,r=e.element,l=[],a=0;a<n.activeDrops.length;a++){var s=n.activeDrops[a],d=s.dropzone,f=s.element,v=s.rect;l.push(d.dropCheck(t,o,i,r,f,v)?f:null)}var b=I.indexOfDeepestElement(l);return n.activeDrops[b]||null}function rn(e,t,o){var n=e.dropState,i={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return o.type==="dragstart"&&(i.activate=new pe.DropEvent(n,o,"dropactivate"),i.activate.target=null,i.activate.dropzone=null),o.type==="dragend"&&(i.deactivate=new pe.DropEvent(n,o,"dropdeactivate"),i.deactivate.target=null,i.deactivate.dropzone=null),n.rejected||(n.cur.element!==n.prev.element&&(n.prev.dropzone&&(i.leave=new pe.DropEvent(n,o,"dragleave"),o.dragLeave=i.leave.target=n.prev.element,o.prevDropzone=i.leave.dropzone=n.prev.dropzone),n.cur.dropzone&&(i.enter=new pe.DropEvent(n,o,"dragenter"),o.dragEnter=n.cur.element,o.dropzone=n.cur.dropzone)),o.type==="dragend"&&n.cur.dropzone&&(i.drop=new pe.DropEvent(n,o,"drop"),o.dropzone=n.cur.dropzone,o.relatedTarget=n.cur.element),o.type==="dragmove"&&n.cur.dropzone&&(i.move=new pe.DropEvent(n,o,"dropmove"),i.move.dragmove=o,o.dropzone=n.cur.dropzone)),i}function an(e,t){var o=e.dropState,n=o.activeDrops,i=o.cur,r=o.prev;t.leave&&r.dropzone.fire(t.leave),t.enter&&i.dropzone.fire(t.enter),t.move&&i.dropzone.fire(t.move),t.drop&&i.dropzone.fire(t.drop),t.deactivate&&eo(n,t.deactivate),o.prev.dropzone=i.dropzone,o.prev.element=i.element}function no(e,t){var o=e.interaction,n=e.iEvent,i=e.event;if(n.type==="dragmove"||n.type==="dragend"){var r=o.dropState;t.dynamicDrop&&(r.activeDrops=on(t,o.element));var l=n,a=to(o,l,i);r.rejected=r.rejected&&!!a&&a.dropzone===r.cur.dropzone&&a.element===r.cur.element,r.cur.dropzone=a&&a.dropzone,r.cur.element=a&&a.element,r.events=rn(o,0,l)}}Object.defineProperty(pt,"__esModule",{value:!0}),pt.default=void 0;var oo={id:"actions/drop",install:function(e){var t=e.actions,o=e.interactStatic,n=e.Interactable,i=e.defaults;e.usePlugin(Y.default),n.prototype.dropzone=function(r){return function(l,a){if(p.default.object(a)){if(l.options.drop.enabled=a.enabled!==!1,a.listeners){var s=(0,Ae.default)(a.listeners),d=Object.keys(s).reduce(function(f,v){return f[/^(enter|leave)/.test(v)?"drag".concat(v):/^(activate|deactivate|move)/.test(v)?"drop".concat(v):v]=s[v],f},{});l.off(l.options.drop.listeners),l.on(d),l.options.drop.listeners=d}return p.default.func(a.ondrop)&&l.on("drop",a.ondrop),p.default.func(a.ondropactivate)&&l.on("dropactivate",a.ondropactivate),p.default.func(a.ondropdeactivate)&&l.on("dropdeactivate",a.ondropdeactivate),p.default.func(a.ondragenter)&&l.on("dragenter",a.ondragenter),p.default.func(a.ondragleave)&&l.on("dragleave",a.ondragleave),p.default.func(a.ondropmove)&&l.on("dropmove",a.ondropmove),/^(pointer|center)$/.test(a.overlap)?l.options.drop.overlap=a.overlap:p.default.number(a.overlap)&&(l.options.drop.overlap=Math.max(Math.min(1,a.overlap),0)),"accept"in a&&(l.options.drop.accept=a.accept),"checker"in a&&(l.options.drop.checker=a.checker),l}return p.default.bool(a)?(l.options.drop.enabled=a,l):l.options.drop}(this,r)},n.prototype.dropCheck=function(r,l,a,s,d,f){return function(v,b,w,g,x,T,E){var _=!1;if(!(E=E||v.getRect(T)))return!!v.options.drop.checker&&v.options.drop.checker(b,w,_,v,T,g,x);var j=v.options.drop.overlap;if(j==="pointer"){var H=(0,xe.default)(g,x,"drag"),V=C.getPageXY(b);V.x+=H.x,V.y+=H.y;var $=V.x>E.left&&V.x<E.right,F=V.y>E.top&&V.y<E.bottom;_=$&&F}var N=g.getRect(x);if(N&&j==="center"){var se=N.left+N.width/2,ge=N.top+N.height/2;_=se>=E.left&&se<=E.right&&ge>=E.top&&ge<=E.bottom}return N&&p.default.number(j)&&(_=Math.max(0,Math.min(E.right,N.right)-Math.max(E.left,N.left))*Math.max(0,Math.min(E.bottom,N.bottom)-Math.max(E.top,N.top))/(N.width*N.height)>=j),v.options.drop.checker&&(_=v.options.drop.checker(b,w,_,v,T,g,x)),_}(this,r,l,a,s,d,f)},o.dynamicDrop=function(r){return p.default.bool(r)?(e.dynamicDrop=r,o):e.dynamicDrop},(0,A.default)(t.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),t.methodDict.drop="dropzone",e.dynamicDrop=!1,i.actions.drop=oo.defaults},listeners:{"interactions:before-action-start":function(e){var t=e.interaction;t.prepared.name==="drag"&&(t.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(e,t){var o=e.interaction,n=(e.event,e.iEvent);if(o.prepared.name==="drag"){var i=o.dropState;i.activeDrops=null,i.events=null,i.activeDrops=on(t,o.element),i.events=rn(o,0,n),i.events.activate&&(eo(i.activeDrops,i.events.activate),t.fire("actions/drop:start",{interaction:o,dragEvent:n}))}},"interactions:action-move":no,"interactions:after-action-move":function(e,t){var o=e.interaction,n=e.iEvent;o.prepared.name==="drag"&&(an(o,o.dropState.events),t.fire("actions/drop:move",{interaction:o,dragEvent:n}),o.dropState.events={})},"interactions:action-end":function(e,t){if(e.interaction.prepared.name==="drag"){var o=e.interaction,n=e.iEvent;no(e,t),an(o,o.dropState.events),t.fire("actions/drop:end",{interaction:o,dragEvent:n})}},"interactions:stop":function(e){var t=e.interaction;if(t.prepared.name==="drag"){var o=t.dropState;o&&(o.activeDrops=null,o.events=null,o.cur.dropzone=null,o.cur.element=null,o.prev.dropzone=null,o.prev.element=null,o.rejected=!1)}}},getActiveDrops:on,getDrop:to,getDropEvents:rn,fireDropEvents:an,defaults:{enabled:!1,accept:null,overlap:"pointer"}},Ri=oo;pt.default=Ri;var ft={};function sn(e){var t=e.interaction,o=e.iEvent,n=e.phase;if(t.prepared.name==="gesture"){var i=t.pointers.map(function(d){return d.pointer}),r=n==="start",l=n==="end",a=t.interactable.options.deltaSource;if(o.touches=[i[0],i[1]],r)o.distance=C.touchDistance(i,a),o.box=C.touchBBox(i),o.scale=1,o.ds=0,o.angle=C.touchAngle(i,a),o.da=0,t.gesture.startDistance=o.distance,t.gesture.startAngle=o.angle;else if(l){var s=t.prevEvent;o.distance=s.distance,o.box=s.box,o.scale=s.scale,o.ds=0,o.angle=s.angle,o.da=0}else o.distance=C.touchDistance(i,a),o.box=C.touchBBox(i),o.scale=o.distance/t.gesture.startDistance,o.angle=C.touchAngle(i,a),o.ds=o.scale-t.gesture.scale,o.da=o.angle-t.gesture.angle;t.gesture.distance=o.distance,t.gesture.angle=o.angle,p.default.number(o.scale)&&o.scale!==1/0&&!isNaN(o.scale)&&(t.gesture.scale=o.scale)}}Object.defineProperty(ft,"__esModule",{value:!0}),ft.default=void 0;var ln={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(e){var t=e.actions,o=e.Interactable,n=e.defaults;o.prototype.gesturable=function(i){return p.default.object(i)?(this.options.gesture.enabled=i.enabled!==!1,this.setPerAction("gesture",i),this.setOnEvents("gesture",i),this):p.default.bool(i)?(this.options.gesture.enabled=i,this):this.options.gesture},t.map.gesture=ln,t.methodDict.gesture="gesturable",n.actions.gesture=ln.defaults},listeners:{"interactions:action-start":sn,"interactions:action-move":sn,"interactions:action-end":sn,"interactions:new":function(e){e.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(e){if(!(e.interaction.pointers.length<2)){var t=e.interactable.options.gesture;if(t&&t.enabled)return e.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}},Hi=ln;ft.default=Hi;var ht={};function Li(e,t,o,n,i,r,l){if(!t)return!1;if(t===!0){var a=p.default.number(r.width)?r.width:r.right-r.left,s=p.default.number(r.height)?r.height:r.bottom-r.top;if(l=Math.min(l,Math.abs((e==="left"||e==="right"?a:s)/2)),a<0&&(e==="left"?e="right":e==="right"&&(e="left")),s<0&&(e==="top"?e="bottom":e==="bottom"&&(e="top")),e==="left")return o.x<(a>=0?r.left:r.right)+l;if(e==="top")return o.y<(s>=0?r.top:r.bottom)+l;if(e==="right")return o.x>(a>=0?r.right:r.left)-l;if(e==="bottom")return o.y>(s>=0?r.bottom:r.top)-l}return!!p.default.element(n)&&(p.default.element(t)?t===n:I.matchesUpTo(n,t,i))}function io(e){var t=e.iEvent,o=e.interaction;if(o.prepared.name==="resize"&&o.resizeAxes){var n=t;o.interactable.options.resize.square?(o.resizeAxes==="y"?n.delta.x=n.delta.y:n.delta.y=n.delta.x,n.axes="xy"):(n.axes=o.resizeAxes,o.resizeAxes==="x"?n.delta.y=0:o.resizeAxes==="y"&&(n.delta.x=0))}}Object.defineProperty(ht,"__esModule",{value:!0}),ht.default=void 0;var fe={id:"actions/resize",before:["actions/drag"],install:function(e){var t=e.actions,o=e.browser,n=e.Interactable,i=e.defaults;fe.cursors=function(r){return r.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(o),fe.defaultMargin=o.supportsTouch||o.supportsPointerEvent?20:10,n.prototype.resizable=function(r){return function(l,a,s){return p.default.object(a)?(l.options.resize.enabled=a.enabled!==!1,l.setPerAction("resize",a),l.setOnEvents("resize",a),p.default.string(a.axis)&&/^x$|^y$|^xy$/.test(a.axis)?l.options.resize.axis=a.axis:a.axis===null&&(l.options.resize.axis=s.defaults.actions.resize.axis),p.default.bool(a.preserveAspectRatio)?l.options.resize.preserveAspectRatio=a.preserveAspectRatio:p.default.bool(a.square)&&(l.options.resize.square=a.square),l):p.default.bool(a)?(l.options.resize.enabled=a,l):l.options.resize}(this,r,e)},t.map.resize=fe,t.methodDict.resize="resizable",i.actions.resize=fe.defaults},listeners:{"interactions:new":function(e){e.interaction.resizeAxes="xy"},"interactions:action-start":function(e){(function(t){var o=t.iEvent,n=t.interaction;if(n.prepared.name==="resize"&&n.prepared.edges){var i=o,r=n.rect;n._rects={start:(0,A.default)({},r),corrected:(0,A.default)({},r),previous:(0,A.default)({},r),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},i.edges=n.prepared.edges,i.rect=n._rects.corrected,i.deltaRect=n._rects.delta}})(e),io(e)},"interactions:action-move":function(e){(function(t){var o=t.iEvent,n=t.interaction;if(n.prepared.name==="resize"&&n.prepared.edges){var i=o,r=n.interactable.options.resize.invert,l=r==="reposition"||r==="negate",a=n.rect,s=n._rects,d=s.start,f=s.corrected,v=s.delta,b=s.previous;if((0,A.default)(b,f),l){if((0,A.default)(f,a),r==="reposition"){if(f.top>f.bottom){var w=f.top;f.top=f.bottom,f.bottom=w}if(f.left>f.right){var g=f.left;f.left=f.right,f.right=g}}}else f.top=Math.min(a.top,d.bottom),f.bottom=Math.max(a.bottom,d.top),f.left=Math.min(a.left,d.right),f.right=Math.max(a.right,d.left);for(var x in f.width=f.right-f.left,f.height=f.bottom-f.top,f)v[x]=f[x]-b[x];i.edges=n.prepared.edges,i.rect=f,i.deltaRect=v}})(e),io(e)},"interactions:action-end":function(e){var t=e.iEvent,o=e.interaction;if(o.prepared.name==="resize"&&o.prepared.edges){var n=t;n.edges=o.prepared.edges,n.rect=o._rects.corrected,n.deltaRect=o._rects.delta}},"auto-start:check":function(e){var t=e.interaction,o=e.interactable,n=e.element,i=e.rect,r=e.buttons;if(i){var l=(0,A.default)({},t.coords.cur.page),a=o.options.resize;if(a&&a.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||(r&a.mouseButtons)!=0)){if(p.default.object(a.edges)){var s={left:!1,right:!1,top:!1,bottom:!1};for(var d in s)s[d]=Li(d,a.edges[d],l,t._latestPointer.eventTarget,n,i,a.margin||fe.defaultMargin);s.left=s.left&&!s.right,s.top=s.top&&!s.bottom,(s.left||s.right||s.top||s.bottom)&&(e.action={name:"resize",edges:s})}else{var f=a.axis!=="y"&&l.x>i.right-fe.defaultMargin,v=a.axis!=="x"&&l.y>i.bottom-fe.defaultMargin;(f||v)&&(e.action={name:"resize",axes:(f?"x":"")+(v?"y":"")})}return!e.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(e){var t=e.edges,o=e.axis,n=e.name,i=fe.cursors,r=null;if(o)r=i[n+o];else if(t){for(var l="",a=["top","bottom","left","right"],s=0;s<a.length;s++){var d=a[s];t[d]&&(l+=d)}r=i[l]}return r},defaultMargin:null},zi=fe;ht.default=zi;var vt={};Object.defineProperty(vt,"__esModule",{value:!0}),vt.default=void 0;var Fi={id:"actions",install:function(e){e.usePlugin(ft.default),e.usePlugin(ht.default),e.usePlugin(Y.default),e.usePlugin(pt.default)}};vt.default=Fi;var ce={};Object.defineProperty(ce,"__esModule",{value:!0}),ce.default=void 0;var he,Se,ro=0,Wi={request:function(e){return he(e)},cancel:function(e){return Se(e)},init:function(e){if(he=e.requestAnimationFrame,Se=e.cancelAnimationFrame,!he)for(var t=["ms","moz","webkit","o"],o=0;o<t.length;o++){var n=t[o];he=e["".concat(n,"RequestAnimationFrame")],Se=e["".concat(n,"CancelAnimationFrame")]||e["".concat(n,"CancelRequestAnimationFrame")]}he=he&&he.bind(e),Se=Se&&Se.bind(e),he||(he=function(i){var r=Date.now(),l=Math.max(0,16-(r-ro)),a=e.setTimeout(function(){i(r+l)},l);return ro=r+l,a},Se=function(i){return clearTimeout(i)})}};ce.default=Wi;var ye={};Object.defineProperty(ye,"__esModule",{value:!0}),ye.getContainer=gt,ye.getScroll=$e,ye.getScrollSize=function(e){return p.default.window(e)&&(e=window.document.body),{x:e.scrollWidth,y:e.scrollHeight}},ye.getScrollSizeDelta=function(e,t){var o=e.interaction,n=e.element,i=o&&o.interactable.options[o.prepared.name].autoScroll;if(!i||!i.enabled)return t(),{x:0,y:0};var r=gt(i.container,o.interactable,n),l=$e(r);t();var a=$e(r);return{x:a.x-l.x,y:a.y-l.y}},ye.default=void 0;var R={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(e){R.isScrolling=!0,ce.default.cancel(R.i),e.autoScroll=R,R.interaction=e,R.prevTime=R.now(),R.i=ce.default.request(R.scroll)},stop:function(){R.isScrolling=!1,R.interaction&&(R.interaction.autoScroll=null),ce.default.cancel(R.i)},scroll:function(){var e=R.interaction,t=e.interactable,o=e.element,n=e.prepared.name,i=t.options[n].autoScroll,r=gt(i.container,t,o),l=R.now(),a=(l-R.prevTime)/1e3,s=i.speed*a;if(s>=1){var d={x:R.x*s,y:R.y*s};if(d.x||d.y){var f=$e(r);p.default.window(r)?r.scrollBy(d.x,d.y):r&&(r.scrollLeft+=d.x,r.scrollTop+=d.y);var v=$e(r),b={x:v.x-f.x,y:v.y-f.y};(b.x||b.y)&&t.fire({type:"autoscroll",target:o,interactable:t,delta:b,interaction:e,container:r})}R.prevTime=l}R.isScrolling&&(ce.default.cancel(R.i),R.i=ce.default.request(R.scroll))},check:function(e,t){var o;return(o=e.options[t].autoScroll)==null?void 0:o.enabled},onInteractionMove:function(e){var t=e.interaction,o=e.pointer;if(t.interacting()&&R.check(t.interactable,t.prepared.name))if(t.simulation)R.x=R.y=0;else{var n,i,r,l,a=t.interactable,s=t.element,d=t.prepared.name,f=a.options[d].autoScroll,v=gt(f.container,a,s);if(p.default.window(v))l=o.clientX<R.margin,n=o.clientY<R.margin,i=o.clientX>v.innerWidth-R.margin,r=o.clientY>v.innerHeight-R.margin;else{var b=I.getElementClientRect(v);l=o.clientX<b.left+R.margin,n=o.clientY<b.top+R.margin,i=o.clientX>b.right-R.margin,r=o.clientY>b.bottom-R.margin}R.x=i?1:l?-1:0,R.y=r?1:n?-1:0,R.isScrolling||(R.margin=f.margin,R.speed=f.speed,R.start(t))}}};function gt(e,t,o){return(p.default.string(e)?(0,U.getStringOptionResult)(e,t,o):e)||(0,c.getWindow)(o)}function $e(e){return p.default.window(e)&&(e=window.document.body),{x:e.scrollLeft,y:e.scrollTop}}var Vi={id:"auto-scroll",install:function(e){var t=e.defaults,o=e.actions;e.autoScroll=R,R.now=function(){return e.now()},o.phaselessTypes.autoscroll=!0,t.perAction.autoScroll=R.defaults},listeners:{"interactions:new":function(e){e.interaction.autoScroll=null},"interactions:destroy":function(e){e.interaction.autoScroll=null,R.stop(),R.interaction&&(R.interaction=null)},"interactions:stop":R.stop,"interactions:action-move":function(e){return R.onInteractionMove(e)}}};ye.default=Vi;var re={};Object.defineProperty(re,"__esModule",{value:!0}),re.warnOnce=function(e,t){var o=!1;return function(){return o||(c.window.console.warn(t),o=!0),e.apply(this,arguments)}},re.copyAction=function(e,t){return e.name=t.name,e.axis=t.axis,e.edges=t.edges,e},re.sign=void 0,re.sign=function(e){return e>=0?1:-1};var mt={};function Bi(e){return p.default.bool(e)?(this.options.styleCursor=e,this):e===null?(delete this.options.styleCursor,this):this.options.styleCursor}function Ni(e){return p.default.func(e)?(this.options.actionChecker=e,this):e===null?(delete this.options.actionChecker,this):this.options.actionChecker}Object.defineProperty(mt,"__esModule",{value:!0}),mt.default=void 0;var Xi={id:"auto-start/interactableMethods",install:function(e){var t=e.Interactable;t.prototype.getAction=function(o,n,i,r){var l=function(a,s,d,f,v){var b=a.getRect(f),w={action:null,interactable:a,interaction:d,element:f,rect:b,buttons:s.buttons||{0:1,1:4,3:8,4:16}[s.button]};return v.fire("auto-start:check",w),w.action}(this,n,i,r,e);return this.options.actionChecker?this.options.actionChecker(o,n,l,this,r,i):l},t.prototype.ignoreFrom=(0,re.warnOnce)(function(o){return this._backCompatOption("ignoreFrom",o)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),t.prototype.allowFrom=(0,re.warnOnce)(function(o){return this._backCompatOption("allowFrom",o)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),t.prototype.actionChecker=Ni,t.prototype.styleCursor=Bi}};mt.default=Xi;var De={};function ao(e,t,o,n,i){return t.testIgnoreAllow(t.options[e.name],o,n)&&t.options[e.name].enabled&&yt(t,o,e,i)?e:null}function Yi(e,t,o,n,i,r,l){for(var a=0,s=n.length;a<s;a++){var d=n[a],f=i[a],v=d.getAction(t,o,e,f);if(v){var b=ao(v,d,f,r,l);if(b)return{action:b,interactable:d,element:f}}}return{action:null,interactable:null,element:null}}function so(e,t,o,n,i){var r=[],l=[],a=n;function s(f){r.push(f),l.push(a)}for(;p.default.element(a);){r=[],l=[],i.interactables.forEachMatch(a,s);var d=Yi(e,t,o,r,l,n,i);if(d.action&&!d.interactable.options[d.action.name].manualStart)return d;a=I.parentNode(a)}return{action:null,interactable:null,element:null}}function lo(e,t,o){var n=t.action,i=t.interactable,r=t.element;n=n||{name:null},e.interactable=i,e.element=r,(0,re.copyAction)(e.prepared,n),e.rect=i&&n.name?i.getRect(r):null,uo(e,o),o.fire("autoStart:prepared",{interaction:e})}function yt(e,t,o,n){var i=e.options,r=i[o.name].max,l=i[o.name].maxPerElement,a=n.autoStart.maxInteractions,s=0,d=0,f=0;if(!(r&&l&&a))return!1;for(var v=0;v<n.interactions.list.length;v++){var b=n.interactions.list[v],w=b.prepared.name;if(b.interacting()&&(++s>=a||b.interactable===e&&((d+=w===o.name?1:0)>=r||b.element===t&&(f++,w===o.name&&f>=l))))return!1}return a>0}function co(e,t){return p.default.number(e)?(t.autoStart.maxInteractions=e,this):t.autoStart.maxInteractions}function cn(e,t,o){var n=o.autoStart.cursorElement;n&&n!==e&&(n.style.cursor=""),e.ownerDocument.documentElement.style.cursor=t,e.style.cursor=t,o.autoStart.cursorElement=t?e:null}function uo(e,t){var o=e.interactable,n=e.element,i=e.prepared;if(e.pointerType==="mouse"&&o&&o.options.styleCursor){var r="";if(i.name){var l=o.options[i.name].cursorChecker;r=p.default.func(l)?l(i,o,n,e._interacting):t.actions.map[i.name].getCursor(i)}cn(e.element,r||"",t)}else t.autoStart.cursorElement&&cn(t.autoStart.cursorElement,"",t)}Object.defineProperty(De,"__esModule",{value:!0}),De.default=void 0;var qi={id:"auto-start/base",before:["actions"],install:function(e){var t=e.interactStatic,o=e.defaults;e.usePlugin(mt.default),o.base.actionChecker=null,o.base.styleCursor=!0,(0,A.default)(o.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),t.maxInteractions=function(n){return co(n,e)},e.autoStart={maxInteractions:1/0,withinInteractionLimit:yt,cursorElement:null}},listeners:{"interactions:down":function(e,t){var o=e.interaction,n=e.pointer,i=e.event,r=e.eventTarget;o.interacting()||lo(o,so(o,n,i,r,t),t)},"interactions:move":function(e,t){(function(o,n){var i=o.interaction,r=o.pointer,l=o.event,a=o.eventTarget;i.pointerType!=="mouse"||i.pointerIsDown||i.interacting()||lo(i,so(i,r,l,a,n),n)})(e,t),function(o,n){var i=o.interaction;if(i.pointerIsDown&&!i.interacting()&&i.pointerWasMoved&&i.prepared.name){n.fire("autoStart:before-start",o);var r=i.interactable,l=i.prepared.name;l&&r&&(r.options[l].manualStart||!yt(r,i.element,i.prepared,n)?i.stop():(i.start(i.prepared,r,i.element),uo(i,n)))}}(e,t)},"interactions:stop":function(e,t){var o=e.interaction,n=o.interactable;n&&n.options.styleCursor&&cn(o.element,"",t)}},maxInteractions:co,withinInteractionLimit:yt,validateAction:ao};De.default=qi;var bt={};Object.defineProperty(bt,"__esModule",{value:!0}),bt.default=void 0;var Ui={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(e,t){var o=e.interaction,n=e.eventTarget,i=e.dx,r=e.dy;if(o.prepared.name==="drag"){var l=Math.abs(i),a=Math.abs(r),s=o.interactable.options.drag,d=s.startAxis,f=l>a?"x":l<a?"y":"xy";if(o.prepared.axis=s.lockAxis==="start"?f[0]:s.lockAxis,f!=="xy"&&d!=="xy"&&d!==f){o.prepared.name=null;for(var v=n,b=function(g){if(g!==o.interactable){var x=o.interactable.options.drag;if(!x.manualStart&&g.testIgnoreAllow(x,v,n)){var T=g.getAction(o.downPointer,o.downEvent,o,v);if(T&&T.name==="drag"&&function(E,_){if(!_)return!1;var j=_.options.drag.startAxis;return E==="xy"||j==="xy"||j===E}(f,g)&&De.default.validateAction(T,g,v,n,t))return g}}};p.default.element(v);){var w=t.interactables.forEachMatch(v,b);if(w){o.prepared.name="drag",o.interactable=w,o.element=v;break}v=(0,I.parentNode)(v)}}}}}};bt.default=Ui;var wt={};function un(e){var t=e.prepared&&e.prepared.name;if(!t)return null;var o=e.interactable.options;return o[t].hold||o[t].delay}Object.defineProperty(wt,"__esModule",{value:!0}),wt.default=void 0;var $i={id:"auto-start/hold",install:function(e){var t=e.defaults;e.usePlugin(De.default),t.perAction.hold=0,t.perAction.delay=0},listeners:{"interactions:new":function(e){e.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(e){var t=e.interaction,o=un(t);o>0&&(t.autoStartHoldTimer=setTimeout(function(){t.start(t.prepared,t.interactable,t.element)},o))},"interactions:move":function(e){var t=e.interaction,o=e.duplicate;t.autoStartHoldTimer&&t.pointerWasMoved&&!o&&(clearTimeout(t.autoStartHoldTimer),t.autoStartHoldTimer=null)},"autoStart:before-start":function(e){var t=e.interaction;un(t)>0&&(t.prepared.name=null)}},getHoldDuration:un};wt.default=$i;var Et={};Object.defineProperty(Et,"__esModule",{value:!0}),Et.default=void 0;var Gi={id:"auto-start",install:function(e){e.usePlugin(De.default),e.usePlugin(wt.default),e.usePlugin(bt.default)}};Et.default=Gi;var je={};function Zi(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):p.default.bool(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault}function Ki(e){var t=e.interaction,o=e.event;t.interactable&&t.interactable.checkAndPreventDefault(o)}function po(e){var t=e.Interactable;t.prototype.preventDefault=Zi,t.prototype.checkAndPreventDefault=function(o){return function(n,i,r){var l=n.options.preventDefault;if(l!=="never")if(l!=="always"){if(i.events.supportsPassive&&/^touch(start|move)$/.test(r.type)){var a=(0,c.getWindow)(r.target).document,s=i.getDocOptions(a);if(!s||!s.events||s.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(r.type)||p.default.element(r.target)&&(0,I.matchesSelector)(r.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||r.preventDefault()}else r.preventDefault()}(this,e,o)},e.interactions.docEvents.push({type:"dragstart",listener:function(o){for(var n=0;n<e.interactions.list.length;n++){var i=e.interactions.list[n];if(i.element&&(i.element===o.target||(0,I.nodeContains)(i.element,o.target)))return void i.interactable.checkAndPreventDefault(o)}}})}Object.defineProperty(je,"__esModule",{value:!0}),je.install=po,je.default=void 0;var Qi={id:"core/interactablePreventDefault",install:po,listeners:["down","move","up","cancel"].reduce(function(e,t){return e["interactions:".concat(t)]=Ki,e},{})};je.default=Qi;var xt={};Object.defineProperty(xt,"__esModule",{value:!0}),xt.default=void 0,xt.default={};var Re,St={};function dn(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}Object.defineProperty(St,"__esModule",{value:!0}),St.default=void 0,function(e){e.touchAction="touchAction",e.boxSizing="boxSizing",e.noListeners="noListeners"}(Re||(Re={}));var fo="[interact.js] ",pn={touchAction:"https://developer.mozilla.org/en-US/docs/Web/CSS/touch-action",boxSizing:"https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing"},fn=[{name:Re.touchAction,perform:function(e){return!function(t,o,n){for(var i=t;p.default.element(i);){if(ho(i,"touchAction",n))return!0;i=(0,I.parentNode)(i)}return!1}(e.element,0,/pan-|pinch|none/)},getInfo:function(e){return[e.element,pn.touchAction]},text:`Consider adding CSS "touch-action: none" to this element
`},{name:Re.boxSizing,perform:function(e){var t=e.element;return e.prepared.name==="resize"&&t instanceof D.default.HTMLElement&&!ho(t,"boxSizing",/border-box/)},text:'Consider adding CSS "box-sizing: border-box" to this resizable element',getInfo:function(e){return[e.element,pn.boxSizing]}},{name:Re.noListeners,perform:function(e){var t=e.prepared.name;return!(e.interactable.events.types["".concat(t,"move")]||[]).length},getInfo:function(e){return[e.prepared.name,e.interactable]},text:"There are no listeners set for this action"}];function ho(e,t,o){var n=e.style[t]||c.window.getComputedStyle(e)[t];return o.test((n||"").toString())}var Ji={id:"dev-tools",install:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=t.logger,n=e.Interactable,i=e.defaults;e.logger=o||console,i.base.devTools={ignore:{}},n.prototype.devTools=function(r){return r?((0,A.default)(this.options.devTools,r),this):this.options.devTools},e.usePlugin(xt.default)},listeners:{"interactions:action-start":function(e,t){for(var o=e.interaction,n=0;n<fn.length;n++){var i,r=fn[n],l=o.interactable&&o.interactable.options;l&&l.devTools&&l.devTools.ignore[r.name]||!r.perform(o)||(i=t.logger).warn.apply(i,[fo+r.text].concat(function(s){if(Array.isArray(s))return dn(s)}(a=r.getInfo(o))||function(s){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(s))return Array.from(s)}(a)||function(s,d){if(s){if(typeof s=="string")return dn(s,d);var f=Object.prototype.toString.call(s).slice(8,-1);return f==="Object"&&s.constructor&&(f=s.constructor.name),f==="Map"||f==="Set"?Array.from(s):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?dn(s,d):void 0}}(a)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()))}var a}},checks:fn,CheckName:Re,links:pn,prefix:fo};St.default=Ji;var Pe={};Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.default=function e(t){var o={};for(var n in t){var i=t[n];p.default.plainObject(i)?o[n]=e(i):p.default.array(i)?o[n]=X.from(i):o[n]=i}return o};var Te={};function vo(e,t){return function(o){if(Array.isArray(o))return o}(e)||function(o,n){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(o)){var i=[],r=!0,l=!1,a=void 0;try{for(var s,d=o[Symbol.iterator]();!(r=(s=d.next()).done)&&(i.push(s.value),!n||i.length!==n);r=!0);}catch(f){l=!0,a=f}finally{try{r||d.return==null||d.return()}finally{if(l)throw a}}return i}}(e,t)||function(o,n){if(o){if(typeof o=="string")return go(o,n);var i=Object.prototype.toString.call(o).slice(8,-1);return i==="Object"&&o.constructor&&(i=o.constructor.name),i==="Map"||i==="Set"?Array.from(o):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?go(o,n):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function go(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function er(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(Te,"__esModule",{value:!0}),Te.getRectOffset=mo,Te.default=void 0;var tr=function(){function e(n){(function(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=n,this.result=Pt()}var t,o;return t=e,(o=[{key:"start",value:function(n,i){var r=n.phase,l=this.interaction,a=function(d){var f=d.interactable.options[d.prepared.name],v=f.modifiers;return v&&v.length?v:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(b){var w=f[b];return w&&w.enabled&&{options:w,methods:w._methods}}).filter(function(b){return!!b})}(l);this.prepareStates(a),this.edges=(0,A.default)({},l.edges),this.startOffset=mo(l.rect,i),this.startDelta={x:0,y:0};var s=this.fillArg({phase:r,pageCoords:i,preEnd:!1});return this.result=Pt(),this.startAll(s),this.result=this.setAll(s)}},{key:"fillArg",value:function(n){var i=this.interaction;return n.interaction=i,n.interactable=i.interactable,n.element=i.element,n.rect=n.rect||i.rect,n.edges=this.edges,n.startOffset=this.startOffset,n}},{key:"startAll",value:function(n){for(var i=0;i<this.states.length;i++){var r=this.states[i];r.methods.start&&(n.state=r,r.methods.start(n))}}},{key:"setAll",value:function(n){var i=n.phase,r=n.preEnd,l=n.skipModifiers,a=n.rect;n.coords=(0,A.default)({},n.pageCoords),n.rect=(0,A.default)({},a);for(var s=l?this.states.slice(l):this.states,d=Pt(n.coords,n.rect),f=0;f<s.length;f++){var v,b=s[f],w=b.options,g=(0,A.default)({},n.coords),x=null;(v=b.methods)!=null&&v.set&&this.shouldDo(w,r,i)&&(n.state=b,x=b.methods.set(n),U.addEdges(this.interaction.edges,n.rect,{x:n.coords.x-g.x,y:n.coords.y-g.y})),d.eventProps.push(x)}d.delta.x=n.coords.x-n.pageCoords.x,d.delta.y=n.coords.y-n.pageCoords.y,d.rectDelta.left=n.rect.left-a.left,d.rectDelta.right=n.rect.right-a.right,d.rectDelta.top=n.rect.top-a.top,d.rectDelta.bottom=n.rect.bottom-a.bottom;var T=this.result.coords,E=this.result.rect;if(T&&E){var _=d.rect.left!==E.left||d.rect.right!==E.right||d.rect.top!==E.top||d.rect.bottom!==E.bottom;d.changed=_||T.x!==d.coords.x||T.y!==d.coords.y}return d}},{key:"applyToInteraction",value:function(n){var i=this.interaction,r=n.phase,l=i.coords.cur,a=i.coords.start,s=this.result,d=this.startDelta,f=s.delta;r==="start"&&(0,A.default)(this.startDelta,s.delta);for(var v=[[a,d],[l,f]],b=0;b<v.length;b++){var w=vo(v[b],2),g=w[0],x=w[1];g.page.x+=x.x,g.page.y+=x.y,g.client.x+=x.x,g.client.y+=x.y}var T=this.result.rectDelta,E=n.rect||i.rect;E.left+=T.left,E.right+=T.right,E.top+=T.top,E.bottom+=T.bottom,E.width=E.right-E.left,E.height=E.bottom-E.top}},{key:"setAndApply",value:function(n){var i=this.interaction,r=n.phase,l=n.preEnd,a=n.skipModifiers,s=this.setAll(this.fillArg({preEnd:l,phase:r,pageCoords:n.modifiedCoords||i.coords.cur.page}));if(this.result=s,!s.changed&&(!a||a<this.states.length)&&i.interacting())return!1;if(n.modifiedCoords){var d=i.coords.cur.page,f={x:n.modifiedCoords.x-d.x,y:n.modifiedCoords.y-d.y};s.coords.x+=f.x,s.coords.y+=f.y,s.delta.x+=f.x,s.delta.y+=f.y}this.applyToInteraction(n)}},{key:"beforeEnd",value:function(n){var i=n.interaction,r=n.event,l=this.states;if(l&&l.length){for(var a=!1,s=0;s<l.length;s++){var d=l[s];n.state=d;var f=d.options,v=d.methods,b=v.beforeEnd&&v.beforeEnd(n);if(b)return this.endResult=b,!1;a=a||!a&&this.shouldDo(f,!0,n.phase,!0)}a&&i.move({event:r,preEnd:!0})}}},{key:"stop",value:function(n){var i=n.interaction;if(this.states&&this.states.length){var r=(0,A.default)({states:this.states,interactable:i.interactable,element:i.element,rect:null},n);this.fillArg(r);for(var l=0;l<this.states.length;l++){var a=this.states[l];r.state=a,a.methods.stop&&a.methods.stop(r)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(n){this.states=[];for(var i=0;i<n.length;i++){var r=n[i],l=r.options,a=r.methods,s=r.name;this.states.push({options:l,methods:a,index:i,name:s})}return this.states}},{key:"restoreInteractionCoords",value:function(n){var i=n.interaction,r=i.coords,l=i.rect,a=i.modification;if(a.result){for(var s=a.startDelta,d=a.result,f=d.delta,v=d.rectDelta,b=[[r.start,s],[r.cur,f]],w=0;w<b.length;w++){var g=vo(b[w],2),x=g[0],T=g[1];x.page.x-=T.x,x.page.y-=T.y,x.client.x-=T.x,x.client.y-=T.y}l.left-=v.left,l.right-=v.right,l.top-=v.top,l.bottom-=v.bottom}}},{key:"shouldDo",value:function(n,i,r,l){return!(!n||n.enabled===!1||l&&!n.endOnly||n.endOnly&&!i||r==="start"&&!n.setStart)}},{key:"copyFrom",value:function(n){this.startOffset=n.startOffset,this.startDelta=n.startDelta,this.edges=n.edges,this.states=n.states.map(function(i){return(0,Pe.default)(i)}),this.result=Pt((0,A.default)({},n.result.coords),(0,A.default)({},n.result.rect))}},{key:"destroy",value:function(){for(var n in this)this[n]=null}}])&&er(t.prototype,o),e}();function Pt(e,t){return{rect:t,coords:e,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function mo(e,t){return e?{left:t.x-e.left,top:t.y-e.top,right:e.right-t.x,bottom:e.bottom-t.y}:{left:0,top:0,right:0,bottom:0}}Te.default=tr;var Q={};function Tt(e){var t=e.iEvent,o=e.interaction.modification.result;o&&(t.modifiers=o.eventProps)}Object.defineProperty(Q,"__esModule",{value:!0}),Q.makeModifier=function(e,t){var o=e.defaults,n={start:e.start,set:e.set,beforeEnd:e.beforeEnd,stop:e.stop},i=function(r){var l=r||{};for(var a in l.enabled=l.enabled!==!1,o)a in l||(l[a]=o[a]);var s={options:l,methods:n,name:t,enable:function(){return l.enabled=!0,s},disable:function(){return l.enabled=!1,s}};return s};return t&&typeof t=="string"&&(i._defaults=o,i._methods=n),i},Q.addEventModifiers=Tt,Q.default=void 0;var nr={id:"modifiers/base",before:["actions"],install:function(e){e.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(e){var t=e.interaction;t.modification=new Te.default(t)},"interactions:before-action-start":function(e){var t=e.interaction.modification;t.start(e,e.interaction.coords.start.page),e.interaction.edges=t.edges,t.applyToInteraction(e)},"interactions:before-action-move":function(e){return e.interaction.modification.setAndApply(e)},"interactions:before-action-end":function(e){return e.interaction.modification.beforeEnd(e)},"interactions:action-start":Tt,"interactions:action-move":Tt,"interactions:action-end":Tt,"interactions:after-action-start":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-move":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:stop":function(e){return e.interaction.modification.stop(e)}}};Q.default=nr;var Ge={};Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.defaults=void 0,Ge.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var Ze={};function yo(e){return(yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function or(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bo(e,t){return(bo=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o})(e,t)}function ir(e,t){return!t||yo(t)!=="object"&&typeof t!="function"?wo(e):t}function wo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hn(e){return(hn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.InteractEvent=void 0;var Eo=function(e){(function(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),s&&bo(a,s)})(l,e);var t,o,n,i,r=(n=l,i=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,s=hn(n);if(i){var d=hn(this).constructor;a=Reflect.construct(s,arguments,d)}else a=s.apply(this,arguments);return ir(this,a)});function l(a,s,d,f,v,b,w){var g;(function($,F){if(!($ instanceof F))throw new TypeError("Cannot call a class as a function")})(this,l),(g=r.call(this,a)).target=void 0,g.currentTarget=void 0,g.relatedTarget=null,g.screenX=void 0,g.screenY=void 0,g.button=void 0,g.buttons=void 0,g.ctrlKey=void 0,g.shiftKey=void 0,g.altKey=void 0,g.metaKey=void 0,g.page=void 0,g.client=void 0,g.delta=void 0,g.rect=void 0,g.x0=void 0,g.y0=void 0,g.t0=void 0,g.dt=void 0,g.duration=void 0,g.clientX0=void 0,g.clientY0=void 0,g.velocity=void 0,g.speed=void 0,g.swipe=void 0,g.timeStamp=void 0,g.axes=void 0,g.preEnd=void 0,v=v||a.element;var x=a.interactable,T=(x&&x.options||Ge.defaults).deltaSource,E=(0,xe.default)(x,v,d),_=f==="start",j=f==="end",H=_?wo(g):a.prevEvent,V=_?a.coords.start:j?{page:H.page,client:H.client,timeStamp:a.coords.cur.timeStamp}:a.coords.cur;return g.page=(0,A.default)({},V.page),g.client=(0,A.default)({},V.client),g.rect=(0,A.default)({},a.rect),g.timeStamp=V.timeStamp,j||(g.page.x-=E.x,g.page.y-=E.y,g.client.x-=E.x,g.client.y-=E.y),g.ctrlKey=s.ctrlKey,g.altKey=s.altKey,g.shiftKey=s.shiftKey,g.metaKey=s.metaKey,g.button=s.button,g.buttons=s.buttons,g.target=v,g.currentTarget=v,g.preEnd=b,g.type=w||d+(f||""),g.interactable=x,g.t0=_?a.pointers[a.pointers.length-1].downTime:H.t0,g.x0=a.coords.start.page.x-E.x,g.y0=a.coords.start.page.y-E.y,g.clientX0=a.coords.start.client.x-E.x,g.clientY0=a.coords.start.client.y-E.y,g.delta=_||j?{x:0,y:0}:{x:g[T].x-H[T].x,y:g[T].y-H[T].y},g.dt=a.coords.delta.timeStamp,g.duration=g.timeStamp-g.t0,g.velocity=(0,A.default)({},a.coords.velocity[T]),g.speed=(0,me.default)(g.velocity.x,g.velocity.y),g.swipe=j||f==="inertiastart"?g.getSwipe():null,g}return t=l,(o=[{key:"getSwipe",value:function(){var a=this._interaction;if(a.prevEvent.speed<600||this.timeStamp-a.prevEvent.timeStamp>150)return null;var s=180*Math.atan2(a.prevEvent.velocityY,a.prevEvent.velocityX)/Math.PI;s<0&&(s+=360);var d=112.5<=s&&s<247.5,f=202.5<=s&&s<337.5;return{up:f,down:!f&&22.5<=s&&s<157.5,left:d,right:!d&&(292.5<=s||s<67.5),angle:s,speed:a.prevEvent.speed,velocity:{x:a.prevEvent.velocityX,y:a.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&or(t.prototype,o),l}(Ie.BaseEvent);Ze.InteractEvent=Eo,Object.defineProperties(Eo.prototype,{pageX:{get:function(){return this.page.x},set:function(e){this.page.x=e}},pageY:{get:function(){return this.page.y},set:function(e){this.page.y=e}},clientX:{get:function(){return this.client.x},set:function(e){this.client.x=e}},clientY:{get:function(){return this.client.y},set:function(e){this.client.y=e}},dx:{get:function(){return this.delta.x},set:function(e){this.delta.x=e}},dy:{get:function(){return this.delta.y},set:function(e){this.delta.y=e}},velocityX:{get:function(){return this.velocity.x},set:function(e){this.velocity.x=e}},velocityY:{get:function(){return this.velocity.y},set:function(e){this.velocity.y=e}}});var Ke={};Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.PointerInfo=void 0,Ke.PointerInfo=function e(t,o,n,i,r){(function(l,a){if(!(l instanceof a))throw new TypeError("Cannot call a class as a function")})(this,e),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=t,this.pointer=o,this.event=n,this.downTime=i,this.downTarget=r};var Ot,Mt,ie={};function rr(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(ie,"__esModule",{value:!0}),Object.defineProperty(ie,"PointerInfo",{enumerable:!0,get:function(){return Ke.PointerInfo}}),ie.default=ie.Interaction=ie._ProxyMethods=ie._ProxyValues=void 0,ie._ProxyValues=Ot,function(e){e.interactable="",e.element="",e.prepared="",e.pointerIsDown="",e.pointerWasMoved="",e._proxy=""}(Ot||(ie._ProxyValues=Ot={})),ie._ProxyMethods=Mt,function(e){e.start="",e.move="",e.end="",e.stop="",e.interacting=""}(Mt||(ie._ProxyMethods=Mt={}));var ar=0,xo=function(){function e(n){var i=this,r=n.pointerType,l=n.scopeFire;(function(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")})(this,e),this.interactable=null,this.element=null,this.rect=void 0,this._rects=void 0,this.edges=void 0,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=null,this.simulation=null,this.doMove=(0,re.warnOnce)(function(b){this.move(b)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:C.newCoords(),prev:C.newCoords(),cur:C.newCoords(),delta:C.newCoords(),velocity:C.newCoords()},this._id=ar++,this._scopeFire=l,this.pointerType=r;var a=this;this._proxy={};var s=function(b){Object.defineProperty(i._proxy,b,{get:function(){return a[b]}})};for(var d in Ot)s(d);var f=function(b){Object.defineProperty(i._proxy,b,{value:function(){return a[b].apply(a,arguments)}})};for(var v in Mt)f(v);this._scopeFire("interactions:new",{interaction:this})}var t,o;return t=e,(o=[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(n,i,r){var l=this.updatePointer(n,i,r,!0),a=this.pointers[l];this._scopeFire("interactions:down",{pointer:n,event:i,eventTarget:r,pointerIndex:l,pointerInfo:a,type:"down",interaction:this})}},{key:"start",value:function(n,i,r){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(n.name==="gesture"?2:1)||!i.options[n.name].enabled)&&((0,re.copyAction)(this.prepared,n),this.interactable=i,this.element=r,this.rect=i.getRect(r),this.edges=this.prepared.edges?(0,A.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(n,i,r){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(n,i,r,!1);var l,a,s=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(l=this.coords.cur.client.x-this.coords.start.client.x,a=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,me.default)(l,a)>this.pointerMoveTolerance);var d=this.getPointerIndex(n),f={pointer:n,pointerIndex:d,pointerInfo:this.pointers[d],event:i,type:"move",eventTarget:r,dx:l,dy:a,duplicate:s,interaction:this};s||C.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",f),s||this.simulation||(this.interacting()&&(f.type=null,this.move(f)),this.pointerWasMoved&&C.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(n){n&&n.event||C.setZeroCoords(this.coords.delta),(n=(0,A.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},n||{})).phase="move",this._doPhase(n)}},{key:"pointerUp",value:function(n,i,r,l){var a=this.getPointerIndex(n);a===-1&&(a=this.updatePointer(n,i,r,!1));var s=/cancel$/i.test(i.type)?"cancel":"up";this._scopeFire("interactions:".concat(s),{pointer:n,pointerIndex:a,pointerInfo:this.pointers[a],event:i,eventTarget:r,type:s,curEventTarget:l,interaction:this}),this.simulation||this.end(i),this.removePointer(n,i)}},{key:"documentBlur",value:function(n){this.end(n),this._scopeFire("interactions:blur",{event:n,type:"blur",interaction:this})}},{key:"end",value:function(n){var i;this._ending=!0,n=n||this._latestPointer.event,this.interacting()&&(i=this._doPhase({event:n,interaction:this,phase:"end"})),this._ending=!1,i===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(n){var i=C.getPointerId(n);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:X.findIndex(this.pointers,function(r){return r.id===i})}},{key:"getPointerInfo",value:function(n){return this.pointers[this.getPointerIndex(n)]}},{key:"updatePointer",value:function(n,i,r,l){var a=C.getPointerId(n),s=this.getPointerIndex(n),d=this.pointers[s];return l=l!==!1&&(l||/(down|start)$/i.test(i.type)),d?d.pointer=n:(d=new Ke.PointerInfo(a,n,i,null,null),s=this.pointers.length,this.pointers.push(d)),C.setCoords(this.coords.cur,this.pointers.map(function(f){return f.pointer}),this._now()),C.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),l&&(this.pointerIsDown=!0,d.downTime=this.coords.cur.timeStamp,d.downTarget=r,C.pointerExtend(this.downPointer,n),this.interacting()||(C.copyCoords(this.coords.start,this.coords.cur),C.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=i,this.pointerWasMoved=!1)),this._updateLatestPointer(n,i,r),this._scopeFire("interactions:update-pointer",{pointer:n,event:i,eventTarget:r,down:l,pointerInfo:d,pointerIndex:s,interaction:this}),s}},{key:"removePointer",value:function(n,i){var r=this.getPointerIndex(n);if(r!==-1){var l=this.pointers[r];this._scopeFire("interactions:remove-pointer",{pointer:n,event:i,eventTarget:null,pointerIndex:r,pointerInfo:l,interaction:this}),this.pointers.splice(r,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(n,i,r){this._latestPointer.pointer=n,this._latestPointer.event=i,this._latestPointer.eventTarget=r}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(n,i,r,l){return new Ze.InteractEvent(this,n,this.prepared.name,i,this.element,r,l)}},{key:"_fireEvent",value:function(n){this.interactable.fire(n),(!this.prevEvent||n.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=n)}},{key:"_doPhase",value:function(n){var i=n.event,r=n.phase,l=n.preEnd,a=n.type,s=this.rect;if(s&&r==="move"&&(U.addEdges(this.edges,s,this.coords.delta[this.interactable.options.deltaSource]),s.width=s.right-s.left,s.height=s.bottom-s.top),this._scopeFire("interactions:before-action-".concat(r),n)===!1)return!1;var d=n.iEvent=this._createPreparedEvent(i,r,l,a);return this._scopeFire("interactions:action-".concat(r),n),r==="start"&&(this.prevEvent=d),this._fireEvent(d),this._scopeFire("interactions:after-action-".concat(r),n),!0}},{key:"_now",value:function(){return Date.now()}}])&&rr(t.prototype,o),e}();ie.Interaction=xo;var sr=xo;ie.default=sr;var Oe={};function So(e){e.pointerIsDown&&(gn(e.coords.cur,e.offset.total),e.offset.pending.x=0,e.offset.pending.y=0)}function Po(e){vn(e.interaction)}function vn(e){if(!function(o){return!(!o.offset.pending.x&&!o.offset.pending.y)}(e))return!1;var t=e.offset.pending;return gn(e.coords.cur,t),gn(e.coords.delta,t),U.addEdges(e.edges,e.rect,t),t.x=0,t.y=0,!0}function lr(e){var t=e.x,o=e.y;this.offset.pending.x+=t,this.offset.pending.y+=o,this.offset.total.x+=t,this.offset.total.y+=o}function gn(e,t){var o=e.page,n=e.client,i=t.x,r=t.y;o.x+=i,o.y+=r,n.x+=i,n.y+=r}Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.addTotal=So,Oe.applyPending=vn,Oe.default=void 0,ie._ProxyMethods.offsetBy="";var cr={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(e){e.Interaction.prototype.offsetBy=lr},listeners:{"interactions:new":function(e){e.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(e){return So(e.interaction)},"interactions:before-action-start":Po,"interactions:before-action-move":Po,"interactions:before-action-end":function(e){var t=e.interaction;if(vn(t))return t.move({offset:!0}),t.end(),!1},"interactions:stop":function(e){var t=e.interaction;t.offset.total.x=0,t.offset.total.y=0,t.offset.pending.x=0,t.offset.pending.y=0}}};Oe.default=cr;var He={};function ur(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(He,"__esModule",{value:!0}),He.default=He.InertiaState=void 0;var To=function(){function e(n){(function(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=n}var t,o;return t=e,(o=[{key:"start",value:function(n){var i=this.interaction,r=kt(i);if(!r||!r.enabled)return!1;var l=i.coords.velocity.client,a=(0,me.default)(l.x,l.y),s=this.modification||(this.modification=new Te.default(i));if(s.copyFrom(i.modification),this.t0=i._now(),this.allowResume=r.allowResume,this.v0=a,this.currentOffset={x:0,y:0},this.startCoords=i.coords.cur.page,this.modifierArg=s.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-i.coords.cur.timeStamp<50&&a>r.minSpeed&&a>r.endSpeed)this.startInertia();else{if(s.result=s.setAll(this.modifierArg),!s.result.changed)return!1;this.startSmoothEnd()}return i.modification.result.rect=null,i.offsetBy(this.targetOffset),i._doPhase({interaction:i,event:n,phase:"inertiastart"}),i.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),i.modification.result.rect=null,this.active=!0,i.simulation=this,!0}},{key:"startInertia",value:function(){var n=this,i=this.interaction.coords.velocity.client,r=kt(this.interaction),l=r.resistance,a=-Math.log(r.endSpeed/this.v0)/l;this.targetOffset={x:(i.x-a)/l,y:(i.y-a)/l},this.te=a,this.lambda_v0=l/this.v0,this.one_ve_v0=1-r.endSpeed/this.v0;var s=this.modification,d=this.modifierArg;d.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},s.result=s.setAll(d),s.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+s.result.delta.x,y:this.targetOffset.y+s.result.delta.y}),this.onNextFrame(function(){return n.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var n=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return n.smoothEndTick()})}},{key:"onNextFrame",value:function(n){var i=this;this.timeout=ce.default.request(function(){i.active&&n()})}},{key:"inertiaTick",value:function(){var n,i,r,l,a,s=this,d=this.interaction,f=kt(d).resistance,v=(d._now()-this.t0)/1e3;if(v<this.te){var b,w=1-(Math.exp(-f*v)-this.lambda_v0)/this.one_ve_v0;this.isModified?(n=this.targetOffset.x,i=this.targetOffset.y,r=this.modifiedOffset.x,l=this.modifiedOffset.y,b={x:Oo(a=w,0,n,r),y:Oo(a,0,i,l)}):b={x:this.targetOffset.x*w,y:this.targetOffset.y*w};var g={x:b.x-this.currentOffset.x,y:b.y-this.currentOffset.y};this.currentOffset.x+=g.x,this.currentOffset.y+=g.y,d.offsetBy(g),d.move(),this.onNextFrame(function(){return s.inertiaTick()})}else d.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var n=this,i=this.interaction,r=i._now()-this.t0,l=kt(i).smoothEndDuration;if(r<l){var a={x:Mo(r,0,this.targetOffset.x,l),y:Mo(r,0,this.targetOffset.y,l)},s={x:a.x-this.currentOffset.x,y:a.y-this.currentOffset.y};this.currentOffset.x+=s.x,this.currentOffset.y+=s.y,i.offsetBy(s),i.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return n.smoothEndTick()})}else i.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(n){var i=n.pointer,r=n.event,l=n.eventTarget,a=this.interaction;a.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),a.updatePointer(i,r,l,!0),a._doPhase({interaction:a,event:r,phase:"resume"}),(0,C.copyCoords)(a.coords.prev,a.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,ce.default.cancel(this.timeout)}}])&&ur(t.prototype,o),e}();function kt(e){var t=e.interactable,o=e.prepared;return t&&t.options&&o.name&&t.options[o.name].inertia}function Oo(e,t,o,n){var i=1-e;return i*i*t+2*i*e*o+e*e*n}function Mo(e,t,o,n){return-o*(e/=n)*(e-2)+t}He.InertiaState=To;var dr={id:"inertia",before:["modifiers","actions"],install:function(e){var t=e.defaults;e.usePlugin(Oe.default),e.usePlugin(Q.default),e.actions.phases.inertiastart=!0,e.actions.phases.resume=!0,t.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(e){var t=e.interaction;t.inertia=new To(t)},"interactions:before-action-end":function(e){var t=e.interaction,o=e.event;return(!t._interacting||t.simulation||!t.inertia.start(o))&&null},"interactions:down":function(e){var t=e.interaction,o=e.eventTarget,n=t.inertia;if(n.active)for(var i=o;p.default.element(i);){if(i===t.element){n.resume(e);break}i=I.parentNode(i)}},"interactions:stop":function(e){var t=e.interaction.inertia;t.active&&t.stop()},"interactions:before-action-resume":function(e){var t=e.interaction.modification;t.stop(e),t.start(e,e.interaction.coords.cur.page),t.applyToInteraction(e)},"interactions:before-action-inertiastart":function(e){return e.interaction.modification.setAndApply(e)},"interactions:action-resume":Q.addEventModifiers,"interactions:action-inertiastart":Q.addEventModifiers,"interactions:after-action-inertiastart":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-resume":function(e){return e.interaction.modification.restoreInteractionCoords(e)}}};He.default=dr;var Qe={};function pr(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ko(e,t){for(var o=0;o<t.length;o++){var n=t[o];if(e.immediatePropagationStopped)break;n(e)}}Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.Eventable=void 0;var fr=function(){function e(n){(function(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=(0,A.default)({},n||{})}var t,o;return t=e,(o=[{key:"fire",value:function(n){var i,r=this.global;(i=this.types[n.type])&&ko(n,i),!n.propagationStopped&&r&&(i=r[n.type])&&ko(n,i)}},{key:"on",value:function(n,i){var r=(0,Ae.default)(n,i);for(n in r)this.types[n]=X.merge(this.types[n]||[],r[n])}},{key:"off",value:function(n,i){var r=(0,Ae.default)(n,i);for(n in r){var l=this.types[n];if(l&&l.length)for(var a=0;a<r[n].length;a++){var s=r[n][a],d=l.indexOf(s);d!==-1&&l.splice(d,1)}}}},{key:"getRect",value:function(n){return null}}])&&pr(t.prototype,o),e}();Qe.Eventable=fr;var Je={};Object.defineProperty(Je,"__esModule",{value:!0}),Je.default=function(e,t){if(t.phaselessTypes[e])return!0;for(var o in t.map)if(e.indexOf(o)===0&&e.substr(o.length)in t.phases)return!0;return!1};var mn={};Object.defineProperty(mn,"__esModule",{value:!0}),mn.createInteractStatic=function(e){var t=function o(n,i){var r=e.interactables.get(n,i);return r||((r=e.interactables.new(n,i)).events.global=o.globalEvents),r};return t.getPointerAverage=C.pointerAverage,t.getTouchBBox=C.touchBBox,t.getTouchDistance=C.touchDistance,t.getTouchAngle=C.touchAngle,t.getElementRect=I.getElementRect,t.getElementClientRect=I.getElementClientRect,t.matchesSelector=I.matchesSelector,t.closest=I.closest,t.globalEvents={},t.version="1.10.11",t.scope=e,t.use=function(o,n){return this.scope.usePlugin(o,n),this},t.isSet=function(o,n){return!!this.scope.interactables.get(o,n&&n.context)},t.on=(0,re.warnOnce)(function(o,n,i){if(p.default.string(o)&&o.search(" ")!==-1&&(o=o.trim().split(/ +/)),p.default.array(o)){for(var r=0;r<o.length;r++){var l=o[r];this.on(l,n,i)}return this}if(p.default.object(o)){for(var a in o)this.on(a,o[a],n);return this}return(0,Je.default)(o,this.scope.actions)?this.globalEvents[o]?this.globalEvents[o].push(n):this.globalEvents[o]=[n]:this.scope.events.add(this.scope.document,o,n,{options:i}),this},"The interact.on() method is being deprecated"),t.off=(0,re.warnOnce)(function(o,n,i){if(p.default.string(o)&&o.search(" ")!==-1&&(o=o.trim().split(/ +/)),p.default.array(o)){for(var r=0;r<o.length;r++){var l=o[r];this.off(l,n,i)}return this}if(p.default.object(o)){for(var a in o)this.off(a,o[a],n);return this}var s;return(0,Je.default)(o,this.scope.actions)?o in this.globalEvents&&(s=this.globalEvents[o].indexOf(n))!==-1&&this.globalEvents[o].splice(s,1):this.scope.events.remove(this.scope.document,o,n,i),this},"The interact.off() method is being deprecated"),t.debug=function(){return this.scope},t.supportsTouch=function(){return G.default.supportsTouch},t.supportsPointerEvent=function(){return G.default.supportsPointerEvent},t.stop=function(){for(var o=0;o<this.scope.interactions.list.length;o++)this.scope.interactions.list[o].stop();return this},t.pointerMoveTolerance=function(o){return p.default.number(o)?(this.scope.interactions.pointerMoveTolerance=o,this):this.scope.interactions.pointerMoveTolerance},t.addDocument=function(o,n){this.scope.addDocument(o,n)},t.removeDocument=function(o){this.scope.removeDocument(o)},t};var _t={};function hr(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(_t,"__esModule",{value:!0}),_t.Interactable=void 0;var vr=function(){function e(n,i,r,l){(function(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")})(this,e),this.options=void 0,this._actions=void 0,this.target=void 0,this.events=new Qe.Eventable,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._rectChecker=void 0,this._actions=i.actions,this.target=n,this._context=i.context||r,this._win=(0,c.getWindow)((0,I.trySelector)(n)?this._context:n),this._doc=this._win.document,this._scopeEvents=l,this.set(i)}var t,o;return t=e,(o=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(n,i){return p.default.func(i.onstart)&&this.on("".concat(n,"start"),i.onstart),p.default.func(i.onmove)&&this.on("".concat(n,"move"),i.onmove),p.default.func(i.onend)&&this.on("".concat(n,"end"),i.onend),p.default.func(i.oninertiastart)&&this.on("".concat(n,"inertiastart"),i.oninertiastart),this}},{key:"updatePerActionListeners",value:function(n,i,r){(p.default.array(i)||p.default.object(i))&&this.off(n,i),(p.default.array(r)||p.default.object(r))&&this.on(n,r)}},{key:"setPerAction",value:function(n,i){var r=this._defaults;for(var l in i){var a=l,s=this.options[n],d=i[a];a==="listeners"&&this.updatePerActionListeners(n,s.listeners,d),p.default.array(d)?s[a]=X.from(d):p.default.plainObject(d)?(s[a]=(0,A.default)(s[a]||{},(0,Pe.default)(d)),p.default.object(r.perAction[a])&&"enabled"in r.perAction[a]&&(s[a].enabled=d.enabled!==!1)):p.default.bool(d)&&p.default.object(r.perAction[a])?s[a].enabled=d:s[a]=d}}},{key:"getRect",value:function(n){return n=n||(p.default.element(this.target)?this.target:null),p.default.string(this.target)&&(n=n||this._context.querySelector(this.target)),(0,I.getElementRect)(n)}},{key:"rectChecker",value:function(n){var i=this;return p.default.func(n)?(this._rectChecker=n,this.getRect=function(r){var l=(0,A.default)({},i._rectChecker(r));return"width"in l||(l.width=l.right-l.left,l.height=l.bottom-l.top),l},this):n===null?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(n,i){if((0,I.trySelector)(i)||p.default.object(i)){for(var r in this.options[n]=i,this._actions.map)this.options[r][n]=i;return this}return this.options[n]}},{key:"origin",value:function(n){return this._backCompatOption("origin",n)}},{key:"deltaSource",value:function(n){return n==="page"||n==="client"?(this.options.deltaSource=n,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(n){return this._context===n.ownerDocument||(0,I.nodeContains)(this._context,n)}},{key:"testIgnoreAllow",value:function(n,i,r){return!this.testIgnore(n.ignoreFrom,i,r)&&this.testAllow(n.allowFrom,i,r)}},{key:"testAllow",value:function(n,i,r){return!n||!!p.default.element(r)&&(p.default.string(n)?(0,I.matchesUpTo)(r,n,i):!!p.default.element(n)&&(0,I.nodeContains)(n,r))}},{key:"testIgnore",value:function(n,i,r){return!(!n||!p.default.element(r))&&(p.default.string(n)?(0,I.matchesUpTo)(r,n,i):!!p.default.element(n)&&(0,I.nodeContains)(n,r))}},{key:"fire",value:function(n){return this.events.fire(n),this}},{key:"_onOff",value:function(n,i,r,l){p.default.object(i)&&!p.default.array(i)&&(l=r,r=null);var a=n==="on"?"add":"remove",s=(0,Ae.default)(i,r);for(var d in s){d==="wheel"&&(d=G.default.wheelEvent);for(var f=0;f<s[d].length;f++){var v=s[d][f];(0,Je.default)(d,this._actions)?this.events[n](d,v):p.default.string(this.target)?this._scopeEvents["".concat(a,"Delegate")](this.target,this._context,d,v,l):this._scopeEvents[a](this.target,d,v,l)}}return this}},{key:"on",value:function(n,i,r){return this._onOff("on",n,i,r)}},{key:"off",value:function(n,i,r){return this._onOff("off",n,i,r)}},{key:"set",value:function(n){var i=this._defaults;for(var r in p.default.object(n)||(n={}),this.options=(0,Pe.default)(i.base),this._actions.methodDict){var l=r,a=this._actions.methodDict[l];this.options[l]={},this.setPerAction(l,(0,A.default)((0,A.default)({},i.perAction),i.actions[l])),this[a](n[l])}for(var s in n)p.default.func(this[s])&&this[s](n[s]);return this}},{key:"unset",value:function(){if(p.default.string(this.target))for(var n in this._scopeEvents.delegatedEvents)for(var i=this._scopeEvents.delegatedEvents[n],r=i.length-1;r>=0;r--){var l=i[r],a=l.selector,s=l.context,d=l.listeners;a===this.target&&s===this._context&&i.splice(r,1);for(var f=d.length-1;f>=0;f--)this._scopeEvents.removeDelegate(this.target,this._context,n,d[f][0],d[f][1])}else this._scopeEvents.remove(this.target,"all")}}])&&hr(t.prototype,o),e}();_t.Interactable=vr;var Ct={};function gr(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.InteractableSet=void 0;var mr=function(){function e(n){var i=this;(function(r,l){if(!(r instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=n,n.addListeners({"interactable:unset":function(r){var l=r.interactable,a=l.target,s=l._context,d=p.default.string(a)?i.selectorMap[a]:a[i.scope.id],f=X.findIndex(d,function(v){return v.context===s});d[f]&&(d[f].context=null,d[f].interactable=null),d.splice(f,1)}})}var t,o;return t=e,(o=[{key:"new",value:function(n,i){i=(0,A.default)(i||{},{actions:this.scope.actions});var r=new this.scope.Interactable(n,i,this.scope.document,this.scope.events),l={context:r._context,interactable:r};return this.scope.addDocument(r._doc),this.list.push(r),p.default.string(n)?(this.selectorMap[n]||(this.selectorMap[n]=[]),this.selectorMap[n].push(l)):(r.target[this.scope.id]||Object.defineProperty(n,this.scope.id,{value:[],configurable:!0}),n[this.scope.id].push(l)),this.scope.fire("interactable:new",{target:n,options:i,interactable:r,win:this.scope._win}),r}},{key:"get",value:function(n,i){var r=i&&i.context||this.scope.document,l=p.default.string(n),a=l?this.selectorMap[n]:n[this.scope.id];if(!a)return null;var s=X.find(a,function(d){return d.context===r&&(l||d.interactable.inContext(n))});return s&&s.interactable}},{key:"forEachMatch",value:function(n,i){for(var r=0;r<this.list.length;r++){var l=this.list[r],a=void 0;if((p.default.string(l.target)?p.default.element(n)&&I.matchesSelector(n,l.target):n===l.target)&&l.inContext(n)&&(a=i(l)),a!==void 0)return a}}}])&&gr(t.prototype,o),e}();Ct.InteractableSet=mr;var At={};function yr(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yn(e,t){return function(o){if(Array.isArray(o))return o}(e)||function(o,n){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(o)){var i=[],r=!0,l=!1,a=void 0;try{for(var s,d=o[Symbol.iterator]();!(r=(s=d.next()).done)&&(i.push(s.value),!n||i.length!==n);r=!0);}catch(f){l=!0,a=f}finally{try{r||d.return==null||d.return()}finally{if(l)throw a}}return i}}(e,t)||function(o,n){if(o){if(typeof o=="string")return _o(o,n);var i=Object.prototype.toString.call(o).slice(8,-1);return i==="Object"&&o.constructor&&(i=o.constructor.name),i==="Map"||i==="Set"?Array.from(o):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_o(o,n):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _o(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}Object.defineProperty(At,"__esModule",{value:!0}),At.default=void 0;var br=function(){function e(n){(function(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=n,(0,qe.default)(this,n)}var t,o;return t=e,(o=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&yr(t.prototype,o),e}();function et(e){if(!p.default.object(e))return{capture:!!e,passive:!1};var t=(0,A.default)({},e);return t.capture=!!e.capture,t.passive=!!e.passive,t}var wr={id:"events",install:function(e){var t,o=[],n={},i=[],r={add:l,remove:a,addDelegate:function(f,v,b,w,g){var x=et(g);if(!n[b]){n[b]=[];for(var T=0;T<i.length;T++){var E=i[T];l(E,b,s),l(E,b,d,!0)}}var _=n[b],j=X.find(_,function(H){return H.selector===f&&H.context===v});j||(j={selector:f,context:v,listeners:[]},_.push(j)),j.listeners.push([w,x])},removeDelegate:function(f,v,b,w,g){var x,T=et(g),E=n[b],_=!1;if(E)for(x=E.length-1;x>=0;x--){var j=E[x];if(j.selector===f&&j.context===v){for(var H=j.listeners,V=H.length-1;V>=0;V--){var $=yn(H[V],2),F=$[0],N=$[1],se=N.capture,ge=N.passive;if(F===w&&se===T.capture&&ge===T.passive){H.splice(V,1),H.length||(E.splice(x,1),a(v,b,s),a(v,b,d,!0)),_=!0;break}}if(_)break}}},delegateListener:s,delegateUseCapture:d,delegatedEvents:n,documents:i,targets:o,supportsOptions:!1,supportsPassive:!1};function l(f,v,b,w){var g=et(w),x=X.find(o,function(T){return T.eventTarget===f});x||(x={eventTarget:f,events:{}},o.push(x)),x.events[v]||(x.events[v]=[]),f.addEventListener&&!X.contains(x.events[v],b)&&(f.addEventListener(v,b,r.supportsOptions?g:g.capture),x.events[v].push(b))}function a(f,v,b,w){var g=et(w),x=X.findIndex(o,function(V){return V.eventTarget===f}),T=o[x];if(T&&T.events)if(v!=="all"){var E=!1,_=T.events[v];if(_){if(b==="all"){for(var j=_.length-1;j>=0;j--)a(f,v,_[j],g);return}for(var H=0;H<_.length;H++)if(_[H]===b){f.removeEventListener(v,b,r.supportsOptions?g:g.capture),_.splice(H,1),_.length===0&&(delete T.events[v],E=!0);break}}E&&!Object.keys(T.events).length&&o.splice(x,1)}else for(v in T.events)T.events.hasOwnProperty(v)&&a(f,v,"all")}function s(f,v){for(var b=et(v),w=new br(f),g=n[f.type],x=yn(C.getEventTargets(f),1)[0],T=x;p.default.element(T);){for(var E=0;E<g.length;E++){var _=g[E],j=_.selector,H=_.context;if(I.matchesSelector(T,j)&&I.nodeContains(H,x)&&I.nodeContains(H,T)){var V=_.listeners;w.currentTarget=T;for(var $=0;$<V.length;$++){var F=yn(V[$],2),N=F[0],se=F[1],ge=se.capture,In=se.passive;ge===b.capture&&In===b.passive&&N(w)}}}T=I.parentNode(T)}}function d(f){return s(f,!0)}return(t=e.document)==null||t.createElement("div").addEventListener("test",null,{get capture(){return r.supportsOptions=!0},get passive(){return r.supportsPassive=!0}}),e.events=r,r}};At.default=wr;var It={};Object.defineProperty(It,"__esModule",{value:!0}),It.default=void 0;var Dt={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(e){for(var t=0;t<Dt.methodOrder.length;t++){var o;o=Dt.methodOrder[t];var n=Dt[o](e);if(n)return n}return null},simulationResume:function(e){var t=e.pointerType,o=e.eventType,n=e.eventTarget,i=e.scope;if(!/down|start/i.test(o))return null;for(var r=0;r<i.interactions.list.length;r++){var l=i.interactions.list[r],a=n;if(l.simulation&&l.simulation.allowResume&&l.pointerType===t)for(;a;){if(a===l.element)return l;a=I.parentNode(a)}}return null},mouseOrPen:function(e){var t,o=e.pointerId,n=e.pointerType,i=e.eventType,r=e.scope;if(n!=="mouse"&&n!=="pen")return null;for(var l=0;l<r.interactions.list.length;l++){var a=r.interactions.list[l];if(a.pointerType===n){if(a.simulation&&!Co(a,o))continue;if(a.interacting())return a;t||(t=a)}}if(t)return t;for(var s=0;s<r.interactions.list.length;s++){var d=r.interactions.list[s];if(!(d.pointerType!==n||/down/i.test(i)&&d.simulation))return d}return null},hasPointer:function(e){for(var t=e.pointerId,o=e.scope,n=0;n<o.interactions.list.length;n++){var i=o.interactions.list[n];if(Co(i,t))return i}return null},idle:function(e){for(var t=e.pointerType,o=e.scope,n=0;n<o.interactions.list.length;n++){var i=o.interactions.list[n];if(i.pointers.length===1){var r=i.interactable;if(r&&(!r.options.gesture||!r.options.gesture.enabled))continue}else if(i.pointers.length>=2)continue;if(!i.interacting()&&t===i.pointerType)return i}return null}};function Co(e,t){return e.pointers.some(function(o){return o.id===t})}var Er=Dt;It.default=Er;var jt={};function Ao(e){return(Ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Io(e,t){return function(o){if(Array.isArray(o))return o}(e)||function(o,n){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(o)){var i=[],r=!0,l=!1,a=void 0;try{for(var s,d=o[Symbol.iterator]();!(r=(s=d.next()).done)&&(i.push(s.value),!n||i.length!==n);r=!0);}catch(f){l=!0,a=f}finally{try{r||d.return==null||d.return()}finally{if(l)throw a}}return i}}(e,t)||function(o,n){if(o){if(typeof o=="string")return Do(o,n);var i=Object.prototype.toString.call(o).slice(8,-1);return i==="Object"&&o.constructor&&(i=o.constructor.name),i==="Map"||i==="Set"?Array.from(o):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Do(o,n):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Do(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function xr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sr(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jo(e,t){return(jo=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o})(e,t)}function Pr(e,t){return!t||Ao(t)!=="object"&&typeof t!="function"?function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(e):t}function bn(e){return(bn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object.defineProperty(jt,"__esModule",{value:!0}),jt.default=void 0;var wn=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Ro(e,t){return function(o){var n=t.interactions.list,i=C.getPointerType(o),r=Io(C.getEventTargets(o),2),l=r[0],a=r[1],s=[];if(/^touch/.test(o.type)){t.prevTouchTime=t.now();for(var d=0;d<o.changedTouches.length;d++){var f=o.changedTouches[d],v={pointer:f,pointerId:C.getPointerId(f),pointerType:i,eventType:o.type,eventTarget:l,curEventTarget:a,scope:t},b=Ho(v);s.push([v.pointer,v.eventTarget,v.curEventTarget,b])}}else{var w=!1;if(!G.default.supportsPointerEvent&&/mouse/.test(o.type)){for(var g=0;g<n.length&&!w;g++)w=n[g].pointerType!=="mouse"&&n[g].pointerIsDown;w=w||t.now()-t.prevTouchTime<500||o.timeStamp===0}if(!w){var x={pointer:o,pointerId:C.getPointerId(o),pointerType:i,eventType:o.type,curEventTarget:a,eventTarget:l,scope:t},T=Ho(x);s.push([x.pointer,x.eventTarget,x.curEventTarget,T])}}for(var E=0;E<s.length;E++){var _=Io(s[E],4),j=_[0],H=_[1],V=_[2];_[3][e](j,o,H,V)}}}function Ho(e){var t=e.pointerType,o=e.scope,n={interaction:It.default.search(e),searchDetails:e};return o.fire("interactions:find",n),n.interaction||o.interactions.new({pointerType:t})}function En(e,t){var o=e.doc,n=e.scope,i=e.options,r=n.interactions.docEvents,l=n.events,a=l[t];for(var s in n.browser.isIOS&&!i.events&&(i.events={passive:!1}),l.delegatedEvents)a(o,s,l.delegateListener),a(o,s,l.delegateUseCapture,!0);for(var d=i&&i.events,f=0;f<r.length;f++){var v=r[f];a(o,v.type,v.listener,d)}}var Tr={id:"core/interactions",install:function(e){for(var t={},o=0;o<wn.length;o++){var n=wn[o];t[n]=Ro(n,e)}var i,r=G.default.pEventTypes;function l(){for(var a=0;a<e.interactions.list.length;a++){var s=e.interactions.list[a];if(s.pointerIsDown&&s.pointerType==="touch"&&!s._interacting)for(var d=function(){var v=s.pointers[f];e.documents.some(function(b){var w=b.doc;return(0,I.nodeContains)(w,v.downTarget)})||s.removePointer(v.pointer,v.event)},f=0;f<s.pointers.length;f++)d()}}(i=D.default.PointerEvent?[{type:r.down,listener:l},{type:r.down,listener:t.pointerDown},{type:r.move,listener:t.pointerMove},{type:r.up,listener:t.pointerUp},{type:r.cancel,listener:t.pointerUp}]:[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:l},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}]).push({type:"blur",listener:function(a){for(var s=0;s<e.interactions.list.length;s++)e.interactions.list[s].documentBlur(a)}}),e.prevTouchTime=0,e.Interaction=function(a){(function(g,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(x&&x.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),x&&jo(g,x)})(w,a);var s,d,f,v,b=(f=w,v=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(g){return!1}}(),function(){var g,x=bn(f);if(v){var T=bn(this).constructor;g=Reflect.construct(x,arguments,T)}else g=x.apply(this,arguments);return Pr(this,g)});function w(){return xr(this,w),b.apply(this,arguments)}return s=w,(d=[{key:"pointerMoveTolerance",get:function(){return e.interactions.pointerMoveTolerance},set:function(g){e.interactions.pointerMoveTolerance=g}},{key:"_now",value:function(){return e.now()}}])&&Sr(s.prototype,d),w}(ie.default),e.interactions={list:[],new:function(a){a.scopeFire=function(d,f){return e.fire(d,f)};var s=new e.Interaction(a);return e.interactions.list.push(s),s},listeners:t,docEvents:i,pointerMoveTolerance:1},e.usePlugin(je.default)},listeners:{"scope:add-document":function(e){return En(e,"add")},"scope:remove-document":function(e){return En(e,"remove")},"interactable:unset":function(e,t){for(var o=e.interactable,n=t.interactions.list.length-1;n>=0;n--){var i=t.interactions.list[n];i.interactable===o&&(i.stop(),t.fire("interactions:destroy",{interaction:i}),i.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(n,1))}}},onDocSignal:En,doOnInteractions:Ro,methodNames:wn};jt.default=Tr;var tt={};function Lo(e){return(Lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function xn(e,t,o){return(xn=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(n,i,r){var l=function(s,d){for(;!Object.prototype.hasOwnProperty.call(s,d)&&(s=Le(s))!==null;);return s}(n,i);if(l){var a=Object.getOwnPropertyDescriptor(l,i);return a.get?a.get.call(r):a.value}})(e,t,o||e)}function zo(e,t){return(zo=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o})(e,t)}function Or(e,t){return!t||Lo(t)!=="object"&&typeof t!="function"?function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(e):t}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Fo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wo(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Vo(e,t,o){return t&&Wo(e.prototype,t),o&&Wo(e,o),e}Object.defineProperty(tt,"__esModule",{value:!0}),tt.initScope=Bo,tt.Scope=void 0;var Mr=function(){function e(){var t=this;Fo(this,e),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=G.default,this.defaults=(0,Pe.default)(Ge.defaults),this.Eventable=Qe.Eventable,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=(0,mn.createInteractStatic)(this),this.InteractEvent=Ze.InteractEvent,this.Interactable=void 0,this.interactables=new Ct.InteractableSet(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(n){return t.removeDocument(n.target)};var o=this;this.Interactable=function(n){(function(s,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(d&&d.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),d&&zo(s,d)})(a,n);var i,r,l=(i=a,r=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(s){return!1}}(),function(){var s,d=Le(i);if(r){var f=Le(this).constructor;s=Reflect.construct(d,arguments,f)}else s=d.apply(this,arguments);return Or(this,s)});function a(){return Fo(this,a),l.apply(this,arguments)}return Vo(a,[{key:"_defaults",get:function(){return o.defaults}},{key:"set",value:function(s){return xn(Le(a.prototype),"set",this).call(this,s),o.fire("interactable:set",{options:s,interactable:this}),this}},{key:"unset",value:function(){xn(Le(a.prototype),"unset",this).call(this),o.interactables.list.splice(o.interactables.list.indexOf(this),1),o.fire("interactable:unset",{interactable:this})}}]),a}(_t.Interactable)}return Vo(e,[{key:"addListeners",value:function(t,o){this.listenerMaps.push({id:o,map:t})}},{key:"fire",value:function(t,o){for(var n=0;n<this.listenerMaps.length;n++){var i=this.listenerMaps[n].map[t];if(i&&i(o,this,t)===!1)return!1}}},{key:"init",value:function(t){return this.isInitialized?this:Bo(this,t)}},{key:"pluginIsInstalled",value:function(t){return this._plugins.map[t.id]||this._plugins.list.indexOf(t)!==-1}},{key:"usePlugin",value:function(t,o){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,o),t.listeners&&t.before){for(var n=0,i=this.listenerMaps.length,r=t.before.reduce(function(a,s){return a[s]=!0,a[No(s)]=!0,a},{});n<i;n++){var l=this.listenerMaps[n].id;if(r[l]||r[No(l)])break}this.listenerMaps.splice(n,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}},{key:"addDocument",value:function(t,o){if(this.getDocIndex(t)!==-1)return!1;var n=c.getWindow(t);o=o?(0,A.default)({},o):{},this.documents.push({doc:t,options:o}),this.events.documents.push(t),t!==this.document&&this.events.add(n,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:n,scope:this,options:o})}},{key:"removeDocument",value:function(t){var o=this.getDocIndex(t),n=c.getWindow(t),i=this.documents[o].options;this.events.remove(n,"unload",this.onWindowUnload),this.documents.splice(o,1),this.events.documents.splice(o,1),this.fire("scope:remove-document",{doc:t,window:n,scope:this,options:i})}},{key:"getDocIndex",value:function(t){for(var o=0;o<this.documents.length;o++)if(this.documents[o].doc===t)return o;return-1}},{key:"getDocOptions",value:function(t){var o=this.getDocIndex(t);return o===-1?null:this.documents[o].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),e}();function Bo(e,t){return e.isInitialized=!0,p.default.window(t)&&c.init(t),D.default.init(t),G.default.init(t),ce.default.init(t),e.window=t,e.document=t.document,e.usePlugin(jt.default),e.usePlugin(At.default),e}function No(e){return e&&e.replace(/\/.*$/,"")}tt.Scope=Mr;var J={};Object.defineProperty(J,"__esModule",{value:!0}),J.default=void 0;var Xo=new tt.Scope,kr=Xo.interactStatic;J.default=kr;var _r=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:void 0;Xo.init(_r);var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.default=void 0,Rt.default=function(){};var Ht={};Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.default=void 0,Ht.default=function(){};var Lt={};function Yo(e,t){return function(o){if(Array.isArray(o))return o}(e)||function(o,n){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(o)){var i=[],r=!0,l=!1,a=void 0;try{for(var s,d=o[Symbol.iterator]();!(r=(s=d.next()).done)&&(i.push(s.value),!n||i.length!==n);r=!0);}catch(f){l=!0,a=f}finally{try{r||d.return==null||d.return()}finally{if(l)throw a}}return i}}(e,t)||function(o,n){if(o){if(typeof o=="string")return qo(o,n);var i=Object.prototype.toString.call(o).slice(8,-1);return i==="Object"&&o.constructor&&(i=o.constructor.name),i==="Map"||i==="Set"?Array.from(o):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?qo(o,n):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function qo(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.default=void 0,Lt.default=function(e){var t=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(n){var i=Yo(n,2),r=i[0],l=i[1];return r in e||l in e}),o=function(n,i){for(var r=e.range,l=e.limits,a=l===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:l,s=e.offset,d=s===void 0?{x:0,y:0}:s,f={range:r,grid:e,x:null,y:null},v=0;v<t.length;v++){var b=Yo(t[v],2),w=b[0],g=b[1],x=Math.round((n-d.x)/e[w]),T=Math.round((i-d.y)/e[g]);f[w]=Math.max(a.left,Math.min(a.right,x*e[w]+d.x)),f[g]=Math.max(a.top,Math.min(a.bottom,T*e[g]+d.y))}return f};return o.grid=e,o.coordFields=t,o};var nt={};Object.defineProperty(nt,"__esModule",{value:!0}),Object.defineProperty(nt,"edgeTarget",{enumerable:!0,get:function(){return Rt.default}}),Object.defineProperty(nt,"elements",{enumerable:!0,get:function(){return Ht.default}}),Object.defineProperty(nt,"grid",{enumerable:!0,get:function(){return Lt.default}});var zt={};Object.defineProperty(zt,"__esModule",{value:!0}),zt.default=void 0;var Cr={id:"snappers",install:function(e){var t=e.interactStatic;t.snappers=(0,A.default)(t.snappers||{},nt),t.createSnapGrid=t.snappers.grid}};zt.default=Cr;var ze={};function Uo(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),o.push.apply(o,n)}return o}function Sn(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?Uo(Object(o),!0).forEach(function(n){Ar(e,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Uo(Object(o)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(o,n))})}return e}function Ar(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}Object.defineProperty(ze,"__esModule",{value:!0}),ze.aspectRatio=ze.default=void 0;var $o={start:function(e){if(!e.state.options.enabled)return!1;var t=e.state,o=e.rect,n=e.edges,i=e.pageCoords,r=t.options.ratio,l=t.options,a=l.equalDelta,s=l.modifiers;r==="preserve"&&(r=o.width/o.height),t.startCoords=(0,A.default)({},i),t.startRect=(0,A.default)({},o),t.ratio=r,t.equalDelta=a;var d=t.linkedEdges={top:n.top||n.left&&!n.bottom,left:n.left||n.top&&!n.right,bottom:n.bottom||n.right&&!n.top,right:n.right||n.bottom&&!n.left};if(t.xIsPrimaryAxis=!(!n.left&&!n.right),t.equalDelta)t.edgeSign=(d.left?1:-1)*(d.top?1:-1);else{var f=t.xIsPrimaryAxis?d.top:d.left;t.edgeSign=f?-1:1}if((0,A.default)(e.edges,d),s&&s.length){var v=new Te.default(e.interaction);v.copyFrom(e.interaction.modification),v.prepareStates(s),t.subModification=v,v.startAll(Sn({},e))}},set:function(e){if(e.state.options.enabled===!1)return!1;var t=e.state,o=e.rect,n=e.coords,i=(0,A.default)({},n),r=t.equalDelta?Ir:Dr;if(r(t,t.xIsPrimaryAxis,n,o),!t.subModification)return null;var l=(0,A.default)({},o);(0,U.addEdges)(t.linkedEdges,l,{x:n.x-i.x,y:n.y-i.y});var a=t.subModification.setAll(Sn(Sn({},e),{},{rect:l,edges:t.linkedEdges,pageCoords:n,prevCoords:n,prevRect:l})),s=a.delta;return a.changed&&(r(t,Math.abs(s.x)>Math.abs(s.y),a.coords,a.rect),(0,A.default)(n,a.coords)),a.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Ir(e,t,o){var n=e.startCoords,i=e.edgeSign;t?o.y=n.y+(o.x-n.x)*i:o.x=n.x+(o.y-n.y)*i}function Dr(e,t,o,n){var i=e.startRect,r=e.startCoords,l=e.ratio,a=e.edgeSign;if(t){var s=n.width/l;o.y=r.y+(s-i.height)*a}else{var d=n.height*l;o.x=r.x+(d-i.width)*a}}ze.aspectRatio=$o;var jr=(0,Q.makeModifier)($o,"aspectRatio");ze.default=jr;var Me={};Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=void 0;var Go=function(){};Go._defaults={};var Rr=Go;Me.default=Rr;var Pn={};Object.defineProperty(Pn,"__esModule",{value:!0}),Object.defineProperty(Pn,"default",{enumerable:!0,get:function(){return Me.default}});var ee={};function Tn(e,t,o){return p.default.func(e)?U.resolveRectLike(e,t.interactable,t.element,[o.x,o.y,t]):U.resolveRectLike(e,t.interactable,t.element)}Object.defineProperty(ee,"__esModule",{value:!0}),ee.getRestrictionRect=Tn,ee.restrict=ee.default=void 0;var Zo={start:function(e){var t=e.rect,o=e.startOffset,n=e.state,i=e.interaction,r=e.pageCoords,l=n.options,a=l.elementRect,s=(0,A.default)({left:0,top:0,right:0,bottom:0},l.offset||{});if(t&&a){var d=Tn(l.restriction,i,r);if(d){var f=d.right-d.left-t.width,v=d.bottom-d.top-t.height;f<0&&(s.left+=f,s.right+=f),v<0&&(s.top+=v,s.bottom+=v)}s.left+=o.left-t.width*a.left,s.top+=o.top-t.height*a.top,s.right+=o.right-t.width*(1-a.right),s.bottom+=o.bottom-t.height*(1-a.bottom)}n.offset=s},set:function(e){var t=e.coords,o=e.interaction,n=e.state,i=n.options,r=n.offset,l=Tn(i.restriction,o,t);if(l){var a=U.xywhToTlbr(l);t.x=Math.max(Math.min(a.right-r.right,t.x),a.left+r.left),t.y=Math.max(Math.min(a.bottom-r.bottom,t.y),a.top+r.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};ee.restrict=Zo;var Hr=(0,Q.makeModifier)(Zo,"restrict");ee.default=Hr;var de={};Object.defineProperty(de,"__esModule",{value:!0}),de.restrictEdges=de.default=void 0;var Ko={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Qo={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Jo(e,t){for(var o=["top","left","bottom","right"],n=0;n<o.length;n++){var i=o[n];i in e||(e[i]=t[i])}return e}var ei={noInner:Ko,noOuter:Qo,start:function(e){var t,o=e.interaction,n=e.startOffset,i=e.state,r=i.options;if(r){var l=(0,ee.getRestrictionRect)(r.offset,o,o.coords.start.page);t=U.rectToXY(l)}t=t||{x:0,y:0},i.offset={top:t.y+n.top,left:t.x+n.left,bottom:t.y-n.bottom,right:t.x-n.right}},set:function(e){var t=e.coords,o=e.edges,n=e.interaction,i=e.state,r=i.offset,l=i.options;if(o){var a=(0,A.default)({},t),s=(0,ee.getRestrictionRect)(l.inner,n,a)||{},d=(0,ee.getRestrictionRect)(l.outer,n,a)||{};Jo(s,Ko),Jo(d,Qo),o.top?t.y=Math.min(Math.max(d.top+r.top,a.y),s.top+r.top):o.bottom&&(t.y=Math.max(Math.min(d.bottom+r.bottom,a.y),s.bottom+r.bottom)),o.left?t.x=Math.min(Math.max(d.left+r.left,a.x),s.left+r.left):o.right&&(t.x=Math.max(Math.min(d.right+r.right,a.x),s.right+r.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};de.restrictEdges=ei;var Lr=(0,Q.makeModifier)(ei,"restrictEdges");de.default=Lr;var Fe={};Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.restrictRect=Fe.default=void 0;var zr=(0,A.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(e){}},ee.restrict.defaults),ti={start:ee.restrict.start,set:ee.restrict.set,defaults:zr};Fe.restrictRect=ti;var Fr=(0,Q.makeModifier)(ti,"restrictRect");Fe.default=Fr;var We={};Object.defineProperty(We,"__esModule",{value:!0}),We.restrictSize=We.default=void 0;var Wr={width:-1/0,height:-1/0},Vr={width:1/0,height:1/0},ni={start:function(e){return de.restrictEdges.start(e)},set:function(e){var t=e.interaction,o=e.state,n=e.rect,i=e.edges,r=o.options;if(i){var l=U.tlbrToXywh((0,ee.getRestrictionRect)(r.min,t,e.coords))||Wr,a=U.tlbrToXywh((0,ee.getRestrictionRect)(r.max,t,e.coords))||Vr;o.options={endOnly:r.endOnly,inner:(0,A.default)({},de.restrictEdges.noInner),outer:(0,A.default)({},de.restrictEdges.noOuter)},i.top?(o.options.inner.top=n.bottom-l.height,o.options.outer.top=n.bottom-a.height):i.bottom&&(o.options.inner.bottom=n.top+l.height,o.options.outer.bottom=n.top+a.height),i.left?(o.options.inner.left=n.right-l.width,o.options.outer.left=n.right-a.width):i.right&&(o.options.inner.right=n.left+l.width,o.options.outer.right=n.left+a.width),de.restrictEdges.set(e),o.options=r}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};We.restrictSize=ni;var Br=(0,Q.makeModifier)(ni,"restrictSize");We.default=Br;var On={};Object.defineProperty(On,"__esModule",{value:!0}),Object.defineProperty(On,"default",{enumerable:!0,get:function(){return Me.default}});var be={};Object.defineProperty(be,"__esModule",{value:!0}),be.snap=be.default=void 0;var oi={start:function(e){var t,o=e.interaction,n=e.interactable,i=e.element,r=e.rect,l=e.state,a=e.startOffset,s=l.options,d=s.offsetWithOrigin?function(b){var w=b.interaction.element;return(0,U.rectToXY)((0,U.resolveRectLike)(b.state.options.origin,null,null,[w]))||(0,xe.default)(b.interactable,w,b.interaction.prepared.name)}(e):{x:0,y:0};if(s.offset==="startCoords")t={x:o.coords.start.page.x,y:o.coords.start.page.y};else{var f=(0,U.resolveRectLike)(s.offset,n,i,[o]);(t=(0,U.rectToXY)(f)||{x:0,y:0}).x+=d.x,t.y+=d.y}var v=s.relativePoints;l.offsets=r&&v&&v.length?v.map(function(b,w){return{index:w,relativePoint:b,x:a.left-r.width*b.x+t.x,y:a.top-r.height*b.y+t.y}}):[{index:0,relativePoint:null,x:t.x,y:t.y}]},set:function(e){var t=e.interaction,o=e.coords,n=e.state,i=n.options,r=n.offsets,l=(0,xe.default)(t.interactable,t.element,t.prepared.name),a=(0,A.default)({},o),s=[];i.offsetWithOrigin||(a.x-=l.x,a.y-=l.y);for(var d=0;d<r.length;d++)for(var f=r[d],v=a.x-f.x,b=a.y-f.y,w=0,g=i.targets.length;w<g;w++){var x,T=i.targets[w];(x=p.default.func(T)?T(v,b,t._proxy,f,w):T)&&s.push({x:(p.default.number(x.x)?x.x:v)+f.x,y:(p.default.number(x.y)?x.y:b)+f.y,range:p.default.number(x.range)?x.range:i.range,source:T,index:w,offset:f})}for(var E={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},_=0;_<s.length;_++){var j=s[_],H=j.range,V=j.x-a.x,$=j.y-a.y,F=(0,me.default)(V,$),N=F<=H;H===1/0&&E.inRange&&E.range!==1/0&&(N=!1),E.target&&!(N?E.inRange&&H!==1/0?F/H<E.distance/E.range:H===1/0&&E.range!==1/0||F<E.distance:!E.inRange&&F<E.distance)||(E.target=j,E.distance=F,E.range=H,E.inRange=N,E.delta.x=V,E.delta.y=$)}return E.inRange&&(o.x=E.target.x,o.y=E.target.y),n.closest=E,E},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};be.snap=oi;var Nr=(0,Q.makeModifier)(oi,"snap");be.default=Nr;var ve={};function ii(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}Object.defineProperty(ve,"__esModule",{value:!0}),ve.snapSize=ve.default=void 0;var ri={start:function(e){var t=e.state,o=e.edges,n=t.options;if(!o)return null;e.state={options:{targets:null,relativePoints:[{x:o.left?0:1,y:o.top?0:1}],offset:n.offset||"self",origin:{x:0,y:0},range:n.range}},t.targetFields=t.targetFields||[["width","height"],["x","y"]],be.snap.start(e),t.offsets=e.state.offsets,e.state=t},set:function(e){var t,o,n=e.interaction,i=e.state,r=e.coords,l=i.options,a=i.offsets,s={x:r.x-a[0].x,y:r.y-a[0].y};i.options=(0,A.default)({},l),i.options.targets=[];for(var d=0;d<(l.targets||[]).length;d++){var f=(l.targets||[])[d],v=void 0;if(v=p.default.func(f)?f(s.x,s.y,n):f){for(var b=0;b<i.targetFields.length;b++){var w=(t=i.targetFields[b],o=2,function(E){if(Array.isArray(E))return E}(t)||function(E,_){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(E)){var j=[],H=!0,V=!1,$=void 0;try{for(var F,N=E[Symbol.iterator]();!(H=(F=N.next()).done)&&(j.push(F.value),!_||j.length!==_);H=!0);}catch(se){V=!0,$=se}finally{try{H||N.return==null||N.return()}finally{if(V)throw $}}return j}}(t,o)||function(E,_){if(E){if(typeof E=="string")return ii(E,_);var j=Object.prototype.toString.call(E).slice(8,-1);return j==="Object"&&E.constructor&&(j=E.constructor.name),j==="Map"||j==="Set"?Array.from(E):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?ii(E,_):void 0}}(t,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),g=w[0],x=w[1];if(g in v||x in v){v.x=v[g],v.y=v[x];break}}i.options.targets.push(v)}}var T=be.snap.set(e);return i.options=l,T},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};ve.snapSize=ri;var Xr=(0,Q.makeModifier)(ri,"snapSize");ve.default=Xr;var Ve={};Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.snapEdges=Ve.default=void 0;var ai={start:function(e){var t=e.edges;return t?(e.state.targetFields=e.state.targetFields||[[t.left?"left":"right",t.top?"top":"bottom"]],ve.snapSize.start(e)):null},set:ve.snapSize.set,defaults:(0,A.default)((0,Pe.default)(ve.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};Ve.snapEdges=ai;var Yr=(0,Q.makeModifier)(ai,"snapEdges");Ve.default=Yr;var Mn={};Object.defineProperty(Mn,"__esModule",{value:!0}),Object.defineProperty(Mn,"default",{enumerable:!0,get:function(){return Me.default}});var kn={};Object.defineProperty(kn,"__esModule",{value:!0}),Object.defineProperty(kn,"default",{enumerable:!0,get:function(){return Me.default}});var Be={};Object.defineProperty(Be,"__esModule",{value:!0}),Be.default=void 0;var qr={aspectRatio:ze.default,restrictEdges:de.default,restrict:ee.default,restrictRect:Fe.default,restrictSize:We.default,snapEdges:Ve.default,snap:be.default,snapSize:ve.default,spring:Mn.default,avoid:Pn.default,transform:kn.default,rubberband:On.default};Be.default=qr;var Ft={};Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.default=void 0;var Ur={id:"modifiers",install:function(e){var t=e.interactStatic;for(var o in e.usePlugin(Q.default),e.usePlugin(zt.default),t.modifiers=Be.default,Be.default){var n=Be.default[o],i=n._defaults,r=n._methods;i._methods=r,e.defaults.perAction[o]=i}}};Ft.default=Ur;var ke={};function si(e){return(si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function $r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function li(e,t){return(li=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o})(e,t)}function Gr(e,t){return!t||si(t)!=="object"&&typeof t!="function"?_n(e):t}function _n(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cn(e){return(Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object.defineProperty(ke,"__esModule",{value:!0}),ke.PointerEvent=ke.default=void 0;var Zr=function(e){(function(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),s&&li(a,s)})(l,e);var t,o,n,i,r=(n=l,i=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,s=Cn(n);if(i){var d=Cn(this).constructor;a=Reflect.construct(s,arguments,d)}else a=s.apply(this,arguments);return Gr(this,a)});function l(a,s,d,f,v,b){var w;if(function(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")}(this,l),(w=r.call(this,v)).type=void 0,w.originalEvent=void 0,w.pointerId=void 0,w.pointerType=void 0,w.double=void 0,w.pageX=void 0,w.pageY=void 0,w.clientX=void 0,w.clientY=void 0,w.dt=void 0,w.eventable=void 0,C.pointerExtend(_n(w),d),d!==s&&C.pointerExtend(_n(w),s),w.timeStamp=b,w.originalEvent=d,w.type=a,w.pointerId=C.getPointerId(s),w.pointerType=C.getPointerType(s),w.target=f,w.currentTarget=null,a==="tap"){var g=v.getPointerIndex(s);w.dt=w.timeStamp-v.pointers[g].downTime;var x=w.timeStamp-v.tapTime;w.double=!!(v.prevTap&&v.prevTap.type!=="doubletap"&&v.prevTap.target===w.target&&x<500)}else a==="doubletap"&&(w.dt=s.timeStamp-v.tapTime);return w}return t=l,(o=[{key:"_subtractOrigin",value:function(a){var s=a.x,d=a.y;return this.pageX-=s,this.pageY-=d,this.clientX-=s,this.clientY-=d,this}},{key:"_addOrigin",value:function(a){var s=a.x,d=a.y;return this.pageX+=s,this.pageY+=d,this.clientX+=s,this.clientY+=d,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&$r(t.prototype,o),l}(Ie.BaseEvent);ke.PointerEvent=ke.default=Zr;var ot={};Object.defineProperty(ot,"__esModule",{value:!0}),ot.default=void 0;var Wt={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(e){e.pointerEvents=Wt,e.defaults.actions.pointerEvents=Wt.defaults,(0,A.default)(e.actions.phaselessTypes,Wt.types)},listeners:{"interactions:new":function(e){var t=e.interaction;t.prevTap=null,t.tapTime=0},"interactions:update-pointer":function(e){var t=e.down,o=e.pointerInfo;!t&&o.hold||(o.hold={duration:1/0,timeout:null})},"interactions:move":function(e,t){var o=e.interaction,n=e.pointer,i=e.event,r=e.eventTarget;e.duplicate||o.pointerIsDown&&!o.pointerWasMoved||(o.pointerIsDown&&An(e),we({interaction:o,pointer:n,event:i,eventTarget:r,type:"move"},t))},"interactions:down":function(e,t){(function(o,n){for(var i=o.interaction,r=o.pointer,l=o.event,a=o.eventTarget,s=o.pointerIndex,d=i.pointers[s].hold,f=I.getPath(a),v={interaction:i,pointer:r,event:l,eventTarget:a,type:"hold",targets:[],path:f,node:null},b=0;b<f.length;b++){var w=f[b];v.node=w,n.fire("pointerEvents:collect-targets",v)}if(v.targets.length){for(var g=1/0,x=0;x<v.targets.length;x++){var T=v.targets[x].eventable.options.holdDuration;T<g&&(g=T)}d.duration=g,d.timeout=setTimeout(function(){we({interaction:i,eventTarget:a,pointer:r,event:l,type:"hold"},n)},g)}})(e,t),we(e,t)},"interactions:up":function(e,t){An(e),we(e,t),function(o,n){var i=o.interaction,r=o.pointer,l=o.event,a=o.eventTarget;i.pointerWasMoved||we({interaction:i,eventTarget:a,pointer:r,event:l,type:"tap"},n)}(e,t)},"interactions:cancel":function(e,t){An(e),we(e,t)}},PointerEvent:ke.PointerEvent,fire:we,collectEventTargets:ci,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function we(e,t){var o=e.interaction,n=e.pointer,i=e.event,r=e.eventTarget,l=e.type,a=e.targets,s=a===void 0?ci(e,t):a,d=new ke.PointerEvent(l,n,i,r,o,t.now());t.fire("pointerEvents:new",{pointerEvent:d});for(var f={interaction:o,pointer:n,event:i,eventTarget:r,targets:s,type:l,pointerEvent:d},v=0;v<s.length;v++){var b=s[v];for(var w in b.props||{})d[w]=b.props[w];var g=(0,xe.default)(b.eventable,b.node);if(d._subtractOrigin(g),d.eventable=b.eventable,d.currentTarget=b.node,b.eventable.fire(d),d._addOrigin(g),d.immediatePropagationStopped||d.propagationStopped&&v+1<s.length&&s[v+1].node!==d.currentTarget)break}if(t.fire("pointerEvents:fired",f),l==="tap"){var x=d.double?we({interaction:o,pointer:n,event:i,eventTarget:r,type:"doubletap"},t):d;o.prevTap=x,o.tapTime=x.timeStamp}return d}function ci(e,t){var o=e.interaction,n=e.pointer,i=e.event,r=e.eventTarget,l=e.type,a=o.getPointerIndex(n),s=o.pointers[a];if(l==="tap"&&(o.pointerWasMoved||!s||s.downTarget!==r))return[];for(var d=I.getPath(r),f={interaction:o,pointer:n,event:i,eventTarget:r,type:l,path:d,targets:[],node:null},v=0;v<d.length;v++){var b=d[v];f.node=b,t.fire("pointerEvents:collect-targets",f)}return l==="hold"&&(f.targets=f.targets.filter(function(w){var g;return w.eventable.options.holdDuration===((g=o.pointers[a])==null?void 0:g.hold.duration)})),f.targets}function An(e){var t=e.interaction,o=e.pointerIndex,n=t.pointers[o].hold;n&&n.timeout&&(clearTimeout(n.timeout),n.timeout=null)}var Kr=Wt;ot.default=Kr;var Vt={};function Qr(e){var t=e.interaction;t.holdIntervalHandle&&(clearInterval(t.holdIntervalHandle),t.holdIntervalHandle=null)}Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.default=void 0;var Jr={id:"pointer-events/holdRepeat",install:function(e){e.usePlugin(ot.default);var t=e.pointerEvents;t.defaults.holdRepeatInterval=0,t.types.holdrepeat=e.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(e,t){return e["pointerEvents:".concat(t)]=Qr,e},{"pointerEvents:new":function(e){var t=e.pointerEvent;t.type==="hold"&&(t.count=(t.count||0)+1)},"pointerEvents:fired":function(e,t){var o=e.interaction,n=e.pointerEvent,i=e.eventTarget,r=e.targets;if(n.type==="hold"&&r.length){var l=r[0].eventable.options.holdRepeatInterval;l<=0||(o.holdIntervalHandle=setTimeout(function(){t.pointerEvents.fire({interaction:o,eventTarget:i,type:"hold",pointer:n,event:n},t)},l))}}})};Vt.default=Jr;var Bt={};function ea(e){return(0,A.default)(this.events.options,e),this}Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.default=void 0;var ta={id:"pointer-events/interactableTargets",install:function(e){var t=e.Interactable;t.prototype.pointerEvents=ea;var o=t.prototype._backCompatOption;t.prototype._backCompatOption=function(n,i){var r=o.call(this,n,i);return r===this&&(this.events.options[n]=i),r}},listeners:{"pointerEvents:collect-targets":function(e,t){var o=e.targets,n=e.node,i=e.type,r=e.eventTarget;t.interactables.forEachMatch(n,function(l){var a=l.events,s=a.options;a.types[i]&&a.types[i].length&&l.testIgnoreAllow(s,n,r)&&o.push({node:n,eventable:a,props:{interactable:l}})})},"interactable:new":function(e){var t=e.interactable;t.events.getRect=function(o){return t.getRect(o)}},"interactable:set":function(e,t){var o=e.interactable,n=e.options;(0,A.default)(o.events.options,t.pointerEvents.defaults),(0,A.default)(o.events.options,n.pointerEvents||{})}}};Bt.default=ta;var Nt={};Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.default=void 0;var na={id:"pointer-events",install:function(e){e.usePlugin(ot),e.usePlugin(Vt.default),e.usePlugin(Bt.default)}};Nt.default=na;var it={};function ui(e){var t=e.Interactable;e.actions.phases.reflow=!0,t.prototype.reflow=function(o){return function(n,i,r){for(var l=p.default.string(n.target)?X.from(n._context.querySelectorAll(n.target)):[n.target],a=r.window.Promise,s=a?[]:null,d=function(){var v=l[f],b=n.getRect(v);if(!b)return"break";var w=X.find(r.interactions.list,function(_){return _.interacting()&&_.interactable===n&&_.element===v&&_.prepared.name===i.name}),g=void 0;if(w)w.move(),s&&(g=w._reflowPromise||new a(function(_){w._reflowResolve=_}));else{var x=(0,U.tlbrToXywh)(b),T={page:{x:x.x,y:x.y},client:{x:x.x,y:x.y},timeStamp:r.now()},E=C.coordsToEvent(T);g=function(_,j,H,V,$){var F=_.interactions.new({pointerType:"reflow"}),N={interaction:F,event:$,pointer:$,eventTarget:H,phase:"reflow"};F.interactable=j,F.element=H,F.prevEvent=$,F.updatePointer($,$,H,!0),C.setZeroCoords(F.coords.delta),(0,re.copyAction)(F.prepared,V),F._doPhase(N);var se=_.window.Promise,ge=se?new se(function(In){F._reflowResolve=In}):void 0;return F._reflowPromise=ge,F.start(V,j,H),F._interacting?(F.move(N),F.end($)):(F.stop(),F._reflowResolve()),F.removePointer($,$),ge}(r,n,v,i,E)}s&&s.push(g)},f=0;f<l.length&&d()!=="break";f++);return s&&a.all(s).then(function(){return n})}(this,o,e)}}Object.defineProperty(it,"__esModule",{value:!0}),it.install=ui,it.default=void 0;var oa={id:"reflow",install:ui,listeners:{"interactions:stop":function(e,t){var o=e.interaction;o.pointerType==="reflow"&&(o._reflowResolve&&o._reflowResolve(),X.remove(t.interactions.list,o))}}};it.default=oa;var ae={exports:{}};function di(e){return(di=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}Object.defineProperty(ae.exports,"__esModule",{value:!0}),ae.exports.default=void 0,J.default.use(je.default),J.default.use(Oe.default),J.default.use(Nt.default),J.default.use(He.default),J.default.use(Ft.default),J.default.use(Et.default),J.default.use(vt.default),J.default.use(ye.default),J.default.use(it.default),J.default.use(St.default);var ia=J.default;if(ae.exports.default=ia,di(ae)==="object"&&ae)try{ae.exports=J.default}catch(e){}J.default.default=J.default,ae=ae.exports;var _e={exports:{}};function pi(e){return(pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}Object.defineProperty(_e.exports,"__esModule",{value:!0}),_e.exports.default=void 0;var ra=ae.default;if(_e.exports.default=ra,pi(_e)==="object"&&_e)try{_e.exports=ae.default}catch(e){}return ae.default.default=ae.default,_e.exports})});var _i=hi((Va,ki)=>{ki.exports=function(c,u){u||(u=[0,""]),c=String(c);var h=parseFloat(c,10);return u[0]=h,u[1]=c.match(/[\d.\-\+]*\s*(.*)/)[1]||"",u}});da(exports,{default:()=>Wn,genId:()=>Ln});function le(m,c){let u=Object.keys(c).map(h=>fa(m,h,c[h]));return u.length===1?u[0]:function(){u.forEach(h=>h())}}function fa(m,c,u){let h=m[c],y=m.hasOwnProperty(c),p=u(h);return h&&Object.setPrototypeOf(p,h),Object.setPrototypeOf(S,p),m[c]=S,P;function S(...M){return p===h&&m[c]===S&&P(),p.apply(this,M)}function P(){m[c]===S&&(y?m[c]=h:delete m[c]),p!==h&&(p=h,Object.setPrototypeOf(S,h||Function))}}var K=rt(require("obsidian"));var Ee=rt(require("obsidian"));var Ye=rt(gi());var L=rt(require("obsidian"));var mi=10,jn=60;function Ne(){let m=document.body.querySelector(".app-container"),c=document.body.querySelector(".mod-left.workspace-ribbon"),u=m.offsetTop,h=document.body.hasClass("hider-ribbon")?0:c?c.offsetWidth:0;return{top:u,left:h}}function ha(m){let c=m.getAttribute("data-orig-height"),u=m.getAttribute("data-orig-width"),h=parseFloat(m.getAttribute("data-orig-pos-left")||"0"),y=parseFloat(m.getAttribute("data-orig-pos-top")||"0"),p=Ne().top;return y<p&&(y=p),{height:c,width:u,top:y,left:h}}function Xe(m,c){let{height:u,width:h,top:y,left:p}=ha(m);c||(m.removeAttribute("data-orig-width"),m.removeAttribute("data-orig-height"),m.removeAttribute("data-orig-pos-left"),m.removeAttribute("data-orig-pos-top")),h&&(m.style.width=h+"px"),u&&(m.style.height=u+"px"),y&&(m.style.top=y+"px",m.setAttribute("data-y",String(y))),p&&(m.style.left=p+"px")}function Yt(m){if(m.hasClass("snap-to-viewport")){m.removeClass("snap-to-viewport"),Xe(m);return}}function Rn(m,c){let u=m.querySelector(".view-content").offsetHeight;u=c?-u:u;let h=parseFloat(m.getAttribute("data-y")||"0")+u;m.style.top=h+"px",m.setAttribute("data-y",String(h))}function at(m){m.hasAttribute("data-orig-width")||m.setAttribute("data-orig-width",String(m.offsetWidth)),m.hasAttribute("data-orig-height")||m.setAttribute("data-orig-height",String(m.offsetHeight)),m.hasAttribute("data-orig-pos-left")||m.setAttribute("data-orig-pos-left",String(parseFloat(m.style.left))),m.hasAttribute("data-orig-pos-top")||m.setAttribute("data-orig-pos-top",String(parseFloat(m.style.top)))}function yi(m){return m.hasAttribute("data-orig-width")&&m.hasAttribute("data-orig-height")&&m.hasAttribute("data-orig-pos-left")&&m.hasAttribute("data-orig-pos-top")}function Hn(m){let c=m.target,u=m.client.x-m.rect.left,h=m.rect.width,y=u/h,p=c.offsetWidth,S=String(m.client.x-y*p),P=String(m.client.y);c.setAttribute("data-x",String(S)),c.setAttribute("data-y",String(P))}function Ce(m,c,u){m.addClass(`snap-to-${c}`),m.style.top=u.top+"px",m.style.height=`calc(100vh - ${u.top}px)`,m.style.left=c==="right"?"unset":u.left+"px",c==="viewport"&&(m.style.width=`calc(100vw - ${u.left}px)`)}function bi(m){let c=m.target,{x:u,y:h}=c.dataset;if(u=u||c.style.left,h=h||c.style.top,u=String((parseFloat(u)||0)+m.dx),h=String((parseFloat(h)||0)+m.dy),this.plugin.settings.snapToEdges){let y,p=m.client.x<mi,S=m.client.x>document.body.offsetWidth-mi,P=m.client.y<30;if((p||S||P)&&(y=Ne(),at(c)),p&&m.buttons){Ce(c,"left",y);return}else if(S&&m.buttons){Ce(c,"right",y);return}else if(P&&m.buttons){Ce(c,"viewport",y);return}else if(c.hasClass("snap-to-viewport")){if(m.client.y<jn)return;c.removeClass("snap-to-viewport"),Xe(c),Hn(m);return}else if(c.hasClass("snap-to-left")){if(m.client.y<jn)return;c.removeClass("snap-to-left"),Xe(c),Hn(m);return}else if(c.hasClass("snap-to-right")){if(m.client.y<jn)return;c.removeClass("snap-to-right"),Xe(c),Hn(m);return}}c.style.top=h?h+"px":c.style.top,c.style.left=u?u+"px":c.style.left,c.setAttribute("data-x",String(u)),c.setAttribute("data-y",String(h))}var wi=["left","right","viewport"],Ei=(m,c)=>{let u=document.body.querySelector(".hover-editor.is-active");if(u&&u instanceof HTMLElement){if(!c){yi(u)?Xe(u,!0):at(u),u.removeClasses(["snap-to-left","snap-to-right","snap-to-viewport"]);let h=Ne();Ce(u,m,h)}return!0}return!1},xi=m=>{let c=document.body.querySelector(".hover-editor.is-active");return c&&c instanceof HTMLElement?(m||yi(c)&&(c.removeClasses(["snap-to-left","snap-to-right","snap-to-viewport"]),Xe(c)),!0):!1},Si=m=>{let c=document.body.querySelector(".hover-editor.is-active"),u=Z.activePopovers().find(h=>h.hoverEl===c);return u?(m||u.toggleMinimized(),!0):!1};var qt=new WeakMap,Ut={x:0,y:0};function va(m){let c=function(){return L.Component.call(this)};return c.prototype=m.prototype,Object.setPrototypeOf(c,m)}var Ti,Oi,Z=class extends va(L.HoverPopover){constructor(c,u,h,y,p){super();this.targetEl=u;this.plugin=h;this.onShowCallback=p;this.isPinned=this.plugin.settings.autoPin==="always";this.abortController=this.addChild(new L.Component);this.detaching=!1;this.opening=!1;this.rootSplit=new L.WorkspaceSplit(window.app.workspace,"vertical");this.targetRect=(Ti=this.targetEl)==null?void 0:Ti.getBoundingClientRect();this.oldPopover=(Oi=this.parent)==null?void 0:Oi.hoverPopover;this.id=Ln(8);y===void 0&&(y=300),this.onTarget=!0,this.onHover=!1,this.shownPos=null,this.parent=c,this.waitTime=y,this.state=L.PopoverState.Showing;let S=this.hoverEl=createDiv({cls:"popover hover-popover",attr:{id:"he"+this.id}});this.onMouseIn=this._onMouseIn.bind(this),this.onMouseOut=this._onMouseOut.bind(this),this.abortController.load(),u&&(u.addEventListener("mouseover",this.onMouseIn),u.addEventListener("mouseout",this.onMouseOut)),S.addEventListener("mouseover",M=>{$t(M,S)&&(this.onHover=!0,this.onTarget=!1,this.transition())}),S.addEventListener("mouseout",M=>{$t(M,S)&&(this.onHover=!1,this.onTarget=!1,this.transition())}),this.timer=window.setTimeout(this.show.bind(this),y),document.addEventListener("mousemove",lt),qt.set(this.hoverEl,this),this.hoverEl.addClass("hover-editor"),this.containerEl=this.hoverEl.createDiv("popover-content"),this.buildWindowControls(),this.setInitialDimensions();let P=this.pinEl=createEl("a","popover-header-icon mod-pin-popover");this.titleEl.prepend(this.pinEl),P.onclick=()=>{this.togglePin()},L.requireApiVersion&&(0,L.requireApiVersion)("0.13.27")?(0,L.setIcon)(P,"lucide-pin",17):(0,L.setIcon)(P,"pin",17),this.createResizeHandles(),this.plugin.settings.imageZoom&&this.registerZoomImageHandlers()}static activePopovers(){return document.body.findAll(".hover-popover").map(c=>qt.get(c)).filter(c=>c)}static forLeaf(c){let u=c==null?void 0:c.containerEl.matchParent(".hover-popover");return u?qt.get(u):void 0}static iteratePopoverLeaves(c,u){for(let h of this.activePopovers())if(h.rootSplit&&c.iterateLeaves(u,h.rootSplit))return!0;return!1}adopt(c){if(this.targetEl===c)return!0;let u=c==null?void 0:c.getBoundingClientRect();if(Pi(this.targetRect,u)){this.targetEl.removeEventListener("mouseover",this.onMouseIn),this.targetEl.removeEventListener("mouseout",this.onMouseOut),c.addEventListener("mouseover",this.onMouseIn),c.addEventListener("mouseout",this.onMouseOut),this.targetEl=c,this.targetRect=u;let{x:h,y}=Ut;return this.onTarget=Pi(u,{left:h,right:h,top:y,bottom:y}),this.transition(),!0}else this.onTarget=!1,this.transition();return!1}onZoomOut(){document.body.removeEventListener("mouseup",this.boundOnZoomOut),document.body.removeEventListener("dragend",this.boundOnZoomOut),this.hoverEl.hasClass("do-not-restore")?this.hoverEl.removeClass("do-not-restore"):Yt(this.hoverEl)}onZoomIn(c){if(c.button!==0)return;this.hoverEl.hasClass("snap-to-viewport")&&this.hoverEl.addClass("do-not-restore"),document.body.addEventListener("mouseup",this.boundOnZoomOut,{once:!0}),document.body.addEventListener("dragend",this.boundOnZoomOut,{once:!0});let u=Ne();return at(this.hoverEl),Ce(this.hoverEl,"viewport",u),!1}registerZoomImageHandlers(){this.hoverEl.addClass("image-zoom"),this.boundOnZoomOut=this.onZoomOut.bind(this),this.hoverEl.on("mousedown","img",this.onZoomIn.bind(this))}togglePin(c){var u;c===void 0&&(c=!this.isPinned),c&&((u=this.abortController)==null||u.unload()),this.hoverEl.toggleClass("is-pinned",c),this.pinEl.toggleClass("is-active",c),this.isPinned=c}getDefaultMode(){var c,u;return((u=(c=this.parent)==null?void 0:c.view)==null?void 0:u.getMode)?this.parent.view.getMode():"preview"}updateLeaves(){this.onTarget&&this.targetEl&&!document.contains(this.targetEl)&&(this.onTarget=!1,this.transition());let c=0;this.plugin.app.workspace.iterateLeaves(u=>{c++},this.rootSplit),c===0?this.hide():c>1&&this.toggleConstrainAspectRatio(!1),this.hoverEl.setAttribute("data-leaf-count",c.toString())}get headerHeight(){let c=this.hoverEl;return this.titleEl.getBoundingClientRect().bottom-c.getBoundingClientRect().top}toggleMinimized(c){var y;let u=this.hoverEl,h=this.headerHeight;if(!u.hasAttribute("data-restore-height"))this.plugin.settings.rollDown&&Rn(u,!1),u.setAttribute("data-restore-height",String(u.offsetHeight)),u.style.minHeight=h+"px",u.style.maxHeight=h+"px",u.toggleClass("is-minimized",!0);else{let p=u.getAttribute("data-restore-height");p&&(u.removeAttribute("data-restore-height"),u.style.height=p+"px"),u.style.removeProperty("max-height"),u.toggleClass("is-minimized",!1),this.plugin.settings.rollDown&&Rn(u,!0)}(y=this.interact)==null||y.reflow({name:"drag",axis:"xy"})}attachLeaf(){this.rootSplit.getRoot=()=>this.plugin.app.workspace.rootSplit,this.titleEl.insertAdjacentElement("afterend",this.rootSplit.containerEl);let c=this.plugin.app.workspace.createLeafInParent(this.rootSplit,0);return this.updateLeaves(),c}onload(){super.onload(),this.registerEvent(this.plugin.app.workspace.on("layout-change",this.updateLeaves,this))}leaves(){let c=[];return this.plugin.app.workspace.iterateLeaves(u=>{c.push(u)},this.rootSplit),c}setInitialDimensions(){this.hoverEl.style.height=this.plugin.settings.initialHeight,this.hoverEl.style.width=this.plugin.settings.initialWidth}toggleViewHeader(c){var y;c===void 0&&(c=!this.hoverEl.hasClass("show-navbar")),(y=this.hideNavBarEl)==null||y.toggleClass("is-active",c),this.hoverEl.toggleClass("show-navbar",c);let u=this.hoverEl.querySelector(".view-header");if(!u)return;let h=parseFloat(getComputedStyle(u).getPropertyValue("--he-view-header-height"));this.hoverEl.style.transition="height 0.2s",c?this.hoverEl.style.height=parseFloat(this.hoverEl.style.height)+h+"px":this.hoverEl.style.height=parseFloat(this.hoverEl.style.height)-h+"px",setTimeout(()=>{this.hoverEl.style.removeProperty("transition")},200),this.requestLeafMeasure()}buildWindowControls(){this.titleEl=createDiv("popover-titlebar"),this.titleEl.createDiv("popover-title");let c=this.titleEl.createDiv("popover-actions"),u=this.hideNavBarEl=c.createEl("a","popover-action mod-show-navbar");(0,L.setIcon)(u,"sidebar-open",14),u.addEventListener("click",S=>{this.toggleViewHeader()}),this.plugin.settings.showViewHeader&&this.toggleViewHeader(!0);let h=c.createEl("a","popover-action mod-minimize");(0,L.setIcon)(h,"minus"),h.addEventListener("click",S=>{Yt(this.hoverEl),this.toggleMinimized()});let y=c.createEl("a","popover-action mod-maximize");(0,L.setIcon)(y,"maximize",14),y.addEventListener("click",S=>{if(this.hoverEl.hasClass("snap-to-viewport")){(0,L.setIcon)(y,"maximize",14),Yt(this.hoverEl);return}(0,L.setIcon)(y,"minimize",14);let P=Ne();at(this.hoverEl),Ce(this.hoverEl,"viewport",P)});let p=c.createEl("a","popover-action mod-close");(0,L.setIcon)(p,"x"),p.addEventListener("click",S=>{this.hide()}),this.containerEl.prepend(this.titleEl)}requestLeafMeasure(){let c=this.leaves();c.length&&setTimeout(()=>{c.forEach(u=>u.onResize())},200)}onShow(){var u,h;let{closeDelay:c}=this.plugin.settings;setTimeout(()=>this.waitTime=c,c),(u=this.oldPopover)==null||u.hide(),this.oldPopover=null,this.hoverEl.toggleClass("is-new",!0),document.body.addEventListener("click",()=>{this.hoverEl.toggleClass("is-new",!1)},{once:!0,capture:!0}),this.parent&&(this.parent.hoverPopover=this),this.togglePin(this.isPinned),(h=this.onShowCallback)==null||h.call(this),this.onShowCallback=void 0}startBounce(){this.bounce=setTimeout(()=>{this.hoverEl.style.left=parseFloat(this.hoverEl.style.left)+this.xspeed+"px",this.hoverEl.style.top=parseFloat(this.hoverEl.style.top)+this.yspeed+"px",this.checkHitBox(),this.startBounce()},20)}toggleBounce(){if(this.xspeed=7,this.yspeed=7,this.bounce){clearTimeout(this.bounce),this.bounce=void 0;let c=this.hoverEl.querySelector(".view-content");(c==null?void 0:c.style)&&c.style.removeProperty("backgroundColor")}else this.startBounce()}checkHitBox(){let c=parseFloat(this.hoverEl.style.left),u=parseFloat(this.hoverEl.style.top),h=parseFloat(this.hoverEl.style.width),y=parseFloat(this.hoverEl.style.height);(c<=0||c+h>=document.body.offsetWidth)&&(this.xspeed*=-1,this.pickColor()),(u<=0||u+y>=document.body.offsetHeight)&&(this.yspeed*=-1,this.pickColor())}pickColor(){let c=Math.random()*(254-0)+0,u=Math.random()*(254-0)+0,h=Math.random()*(254-0)+0,y=this.hoverEl.querySelector(".view-content");(y==null?void 0:y.style)&&(y.style.backgroundColor="rgb("+c+","+u+", "+h+")")}transition(){this.shouldShow()?this.state===L.PopoverState.Hiding&&(this.state=L.PopoverState.Shown,clearTimeout(this.timer)):this.state===L.PopoverState.Showing?this.hide():this.state===L.PopoverState.Shown&&(this.state=L.PopoverState.Hiding,this.timer=window.setTimeout(()=>{this.shouldShow()?this.transition():this.hide()},this.waitTime))}detect(c){let{targetEl:u,hoverEl:h}=this;u&&(this.onTarget=c===u||u.contains(c)),this.onHover=c===h||h.contains(c)}_onMouseIn(c){this.targetEl&&!$t(c,this.targetEl)||(this.onTarget=!0,this.transition())}_onMouseOut(c){this.targetEl&&!$t(c,this.targetEl)||(this.onTarget=!1,this.transition())}position(c){c===void 0&&(c=this.shownPos);let u;if(c)u={top:c.y-10,bottom:c.y+10,left:c.x,right:c.x};else if(this.targetEl){let h=ma(this.targetEl,document.body);u={top:h.top,bottom:h.top+this.targetEl.offsetHeight,left:h.left,right:h.left+this.targetEl.offsetWidth}}else u={top:0,bottom:0,left:0,right:0};document.body.appendChild(this.hoverEl),ga(u,this.hoverEl,{gap:10}),c&&setTimeout(()=>{let h=parseFloat(this.hoverEl.style.left),y=parseFloat(this.hoverEl.style.top);this.hoverEl.setAttribute("data-x",String(h)),this.hoverEl.setAttribute("data-y",String(y))},0)}shouldShow(){return this.shouldShowSelf()||this.shouldShowChild()}shouldShowChild(){return Z.activePopovers().some(c=>c!==this&&c.targetEl&&this.hoverEl.contains(c.targetEl)?c.shouldShow():!1)}shouldShowSelf(){return!this.detaching&&!!(this.onTarget||this.onHover||this.state==L.PopoverState.Shown&&this.isPinned||document.querySelector(`body>.modal-container, body > #he${this.id} ~ .menu`))}calculateMinSize(){return{width:40,height:this.headerHeight}}calculateMaxSize(c,u,h){let y=h.pointerType==="reflow"?document.body.offsetWidth/1.5:document.body.offsetWidth,p=h.pointerType==="reflow"?document.body.offsetHeight/1.5:document.body.offsetHeight;return{width:y,height:p}}toggleConstrainAspectRatio(c,u){let h=this.resizeModifiers.find(y=>y.name=="aspectRatio");!h||(c===void 0&&(c=!h.options.enabled),c?(h.enable(),this.constrainAspectRatio=!0,u!==void 0&&h.options.ratio!==u&&(h.options.ratio=u)):(h.disable(),this.constrainAspectRatio=!1))}registerInteract(){var k,Y;let c=this.plugin.app.dom.appContainerEl,u=this,h=function(O,q,B){let{top:W,right:D,bottom:z,left:ne,x:ue,y:G,width:oe,height:Kt}=c.getBoundingClientRect(),I={top:W,right:D,bottom:z,left:ne,x:ue,y:G,width:oe,height:Kt};return B.pointerType==="reflow"?u.dragElementRect.bottom=1:u.dragElementRect.bottom=0,u.plugin.settings.snapToEdges&&(I.top=W-30),I.bottom=z-u.headerHeight,I},y=!0,p,S=((k=this.hoverEl.dataset)==null?void 0:k.imgRatio)?parseFloat((Y=this.hoverEl.dataset)==null?void 0:Y.imgRatio):void 0;this.resizeModifiers=[Ye.default.modifiers.restrictEdges({outer:c}),Ye.default.modifiers.restrictSize({min:u.calculateMinSize.bind(this),max:u.calculateMaxSize.bind(this)}),Ye.default.modifiers.aspectRatio({ratio:S||"preserve",enabled:!1})],this.dragElementRect={top:0,left:1,bottom:0,right:0};let P=[Ye.default.modifiers.restrict({restriction:h,offset:{top:0,left:40,bottom:0,right:40},elementRect:this.dragElementRect,endOnly:!1})];this.constrainAspectRatio&&S!==void 0&&this.toggleConstrainAspectRatio(!0,S);let M=(0,Ye.default)(this.hoverEl).preventDefault("always").on("doubletap",this.onDoubleTap.bind(this)).draggable({modifiers:P,allowFrom:".popover-titlebar",listeners:{start(O){O.buttons&&u.togglePin(!0),O.buttons&&O.target instanceof HTMLElement&&O.target.addClass("is-dragging")},end(O){O.target instanceof HTMLElement&&O.target.removeClass("is-dragging")},move:bi.bind(u)}}).resizable({edges:{top:".top-left, .top-right, .top",left:".top-left, .bottom-left, .left",bottom:".bottom-left, .bottom-right, .bottom",right:".top-right, .bottom-right, .right"},modifiers:this.resizeModifiers,listeners:{start(O){var D;O.target.style.removeProperty("max-height");let B=(D=u.hoverEl.querySelector(".view-header"))==null?void 0:D.offsetHeight;p=u.titleEl.offsetHeight+B,y=!0,O.buttons&&u.togglePin(!0)},move:function(O){var ne,ue;if(!(O==null?void 0:O.deltaRect)||!O.edges)return;let{target:q}=O,{x:B,y:W}=q.dataset,D=O.rect.height,z=O.rect.width;B=B||q.style.left,W=W||q.style.top,B=String((parseFloat(B)||0)+((ne=O.deltaRect)==null?void 0:ne.left)),W=String((parseFloat(W)||0)+((ue=O.deltaRect)==null?void 0:ue.top)),u.constrainAspectRatio&&S&&O.buttons!==void 0?(y&&(O.edges.top&&(O.edges.right||O.edges.left)?W=String(parseFloat(W)-p):O.edges.top?B=String(parseFloat(B)+p*S):O.edges.left&&!(O.edges.top||O.edges.bottom)&&(W=String(parseFloat(W)-p))),y=!1,(O.edges.top&&!(O.edges.right||O.edges.left)||O.edges.bottom&&!(O.edges.right||O.edges.left))&&(D=D-p,z=z-p*S),D=D+p,(q.hasClass("snap-to-left")||q.hasClass("snap-to-right"))&&(W=String(parseFloat(q.style.top)),B=String(parseFloat(q.style.left)))):S&&D>document.body.offsetHeight&&(D=D/1.5,z=D*S),Object.assign(q.style,{width:`${z}px`,height:`${D}px`,top:`${W}px`,left:B==="NaN"?"unset":`${B}px`}),Object.assign(q.dataset,{x:B,y:W})},end:function(O){if(O.buttons===void 0){let q=parseFloat(O.target.style.height)+p;O.target.style.height=q+"px"}O.rect.height>u.headerHeight&&O.target.removeAttribute("data-restore-height"),M.reflow({name:"drag",axis:"xy"})}}});this.interact=M}createResizeHandles(){this.hoverEl.createDiv("resize-handle bottom-left"),this.hoverEl.createDiv("resize-handle bottom-right"),this.hoverEl.createDiv("resize-handle top-left"),this.hoverEl.createDiv("resize-handle top-right"),this.hoverEl.createDiv("resize-handle right"),this.hoverEl.createDiv("resize-handle left"),this.hoverEl.createDiv("resize-handle bottom"),this.hoverEl.createDiv("resize-handle top")}onDoubleTap(c){c.target.tagName==="DIV"&&c.target.closest(".popover-titlebar")&&(c.preventDefault(),this.togglePin(!0),this.toggleMinimized())}show(){var c,u;!this.targetEl||document.body.contains(this.targetEl)?(this.state=L.PopoverState.Shown,this.timer=0,this.shownPos=Ut,this.position(Ut),document.removeEventListener("mousemove",lt),this.onShow(),this.load()):this.hide(),this.hoverEl.dataset.imgHeight&&this.hoverEl.dataset.imgWidth&&(this.hoverEl.style.height=parseFloat(this.hoverEl.dataset.imgHeight)+this.titleEl.offsetHeight+"px",this.hoverEl.style.width=parseFloat(this.hoverEl.dataset.imgWidth)+"px"),this.registerInteract(),(c=this.interact)==null||c.reflow({name:"resize",edges:{right:!0,bottom:!0}}),(u=this.interact)==null||u.reflow({name:"drag",axis:"xy"})}onHide(){var c;this.oldPopover=null,((c=this.parent)==null?void 0:c.hoverPopover)===this&&(this.parent.hoverPopover=null)}hide(){var u,h;if(this.onTarget=this.onHover=!1,this.isPinned=!1,this.detaching=!0,document.removeEventListener("mousemove",lt),this.timer&&(clearTimeout(this.timer),this.timer=0),this.hoverEl.hide(),this.opening)return;let c=this.leaves();if(c.length)c.forEach(y=>y.detach());else return this.parent=null,((u=this.interact)==null?void 0:u.unset)&&this.interact.unset(),(h=this.abortController)==null||h.unload(),this.abortController=void 0,this.interact=void 0,this.nativeHide()}nativeHide(){var h;let{hoverEl:c,targetEl:u}=this;if(this.state=L.PopoverState.Hidden,c.detach(),u){let y=u.matchParent(".hover-popover");y&&((h=qt.get(y))==null||h.transition()),u.removeEventListener("mouseover",this.onMouseIn),u.removeEventListener("mouseout",this.onMouseOut)}this.onHide(),this.unload()}resolveLink(c,u){let h=(0,L.parseLinktext)(c);return h?this.plugin.app.metadataCache.getFirstLinkpathDest(h.path,u):null}async openLink(c,u,h,y){var B,W,D;let p=this.resolveLink(c,u),S=(0,L.parseLinktext)(c);if(!p&&y){let z=this.plugin.app.fileManager.getNewFileParent(u);p=await this.plugin.app.fileManager.createNewMarkdownFile(z,S.path)}if(!p){this.displayCreateFileAction(c,u,h);return}let{viewRegistry:P}=this.plugin.app,M=P.typeByExtension[p.extension];if(!M||!P.viewByType[M]){this.displayOpenFileAction(p);return}h=Object.assign(this.buildEphemeralState(p,S),h);let k=this.getDefaultMode(),Y=this.buildState(k,h),O=await this.openFile(p,Y,y),q=(B=O==null?void 0:O.view)==null?void 0:B.getViewType();if(q==="image"){this.plugin.settings.autoFocus&&((W=this.parent)==null?void 0:W.hasOwnProperty("editorEl"))&&this.parent.editorEl.hasClass("is-live-preview")&&(this.waitTime=3e3),this.constrainAspectRatio=!0;let z=O.view.contentEl.querySelector("img");this.hoverEl.dataset.imgHeight=String(z.naturalHeight),this.hoverEl.dataset.imgWidth=String(z.naturalWidth),this.hoverEl.dataset.imgRatio=String(z.naturalWidth/z.naturalHeight)}else q==="pdf"&&(this.hoverEl.style.height="800px",this.hoverEl.style.width="600px");((D=Y.state)==null?void 0:D.mode)==="source"&&setTimeout(()=>{var z;this.detaching||(z=O==null?void 0:O.view)==null||z.setEphemeralState(Y.eState)},this.plugin.settings.triggerDelay)}displayOpenFileAction(c){let h=this.attachLeaf().view;h.emptyTitleEl.hide(),h.actionListEl.empty();let{actionListEl:y}=h;y.createDiv({cls:"file-embed-title"},p=>{p.createSpan({cls:"file-embed-icon"},S=>(0,L.setIcon)(S,"document",22)),p.appendText(" "+c.name)}),y.addEventListener("click",()=>this.plugin.app.openWithDefaultApp(c.path)),y.setAttribute("aria-label",i18next.t("interface.embed-open-in-default-app-tooltip"))}displayCreateFileAction(c,u,h){var S,P,M;let y=this.attachLeaf(),p=y.view;if(p){(S=p.emptyTitleEl)==null||S.hide(),(P=p.actionListEl)==null||P.empty();let k=(M=p.actionListEl)==null?void 0:M.createEl("button","empty-state-action");if(!k)return;k.textContent=`${c} is not yet created. Click to create.`,this.plugin.settings.autoFocus&&setTimeout(()=>{k==null||k.focus()},200),k.addEventListener("click",async()=>{this.togglePin(!0),await this.openLink(c,u,h,y)},{once:!0})}}async openFile(c,u,h){var p,S,P;if(this.detaching)return;let y=h!=null?h:this.attachLeaf();this.opening=!0;try{if(await y.openFile(c,u),this.plugin.settings.autoFocus&&!this.detaching){let M=this.onShowCallback;this.onShowCallback=()=>{this.plugin.app.workspace.setActiveLeaf(y,!1,!0),setTimeout(le(L.Workspace.prototype,{recordMostRecentOpenedFile(Y){return function(O){if(O!==c)return Y.call(this,O)}}}),1);let k=this.plugin.app.plugins.plugins["recent-files-obsidian"];k&&setTimeout(le(k,{shouldAddFile(Y){return function(O){return O!==c&&Y.call(this,O)}}}),1),M instanceof Function&&M()},this.state===L.PopoverState.Shown&&(this.onShowCallback(),this.onShowCallback=void 0)}else if(!this.plugin.settings.autoFocus&&!this.detaching){let M=this.hoverEl.querySelector(".popover-title");if(!M)return;M.textContent=(p=y.view)==null?void 0:p.getDisplayText(),M.setAttribute("data-path",(P=(S=y.view)==null?void 0:S.file)==null?void 0:P.path)}}catch(M){console.error(M)}finally{this.opening=!1,this.detaching&&this.hide()}return y}buildState(c,u){return{state:{mode:this.plugin.settings.defaultMode==="match"?c:this.plugin.settings.defaultMode},eState:u}}buildEphemeralState(c,u){let h=this.plugin.app.metadataCache.getFileCache(c),y=h?(0,L.resolveSubpath)(h,(u==null?void 0:u.subpath)||""):void 0,p={subpath:u==null?void 0:u.subpath};return y&&(p.line=y.start.line,p.startLoc=y.start,p.endLoc=y.end||void 0),p}};function st(m){return!!Z.forLeaf(m)}function ga(m,c,u){u=u||{},c.show();let h=u.gap||0,y=u.preference||"bottom",p=u.offsetParent||c.offsetParent||document.documentElement,S=u.horizontalAlignment||"left",P=p.scrollTop+10,M=p.scrollTop+p.clientHeight-10,k=Math.min(m.top,M),Y=Math.max(m.bottom,P),O=c.offsetHeight,q=m.top-P>=O+h,B=M-m.bottom>=O+h,W=0,D="";!q||y!=="top"&&B?!B||y!=="bottom"&&q?p.clientHeight<O+h?(W=P,D="overlap"):y==="top"?(W=P+h,D="overlap"):(W=M-O,D="overlap"):(W=Y+h,D="bottom"):(W=k-h-O,D="top");let z=p.scrollLeft+10,ne=p.scrollLeft+p.clientWidth-10,ue=c.offsetWidth,G=S==="left"?m.left:m.right-ue;return G<z?G=z:G>ne-ue&&(G=ne-ue),c.style.top="".concat(W.toString(),"px"),c.style.left="".concat(G.toString(),"px"),{top:W,left:G,vresult:D}}function ma(m,c){let u=0,h=0;for(let y=c?c.offsetParent:null;m&&m!==c&&m!==y;){u+=m.offsetTop,h+=m.offsetLeft;let p=m.offsetParent;for(let S=m.parentElement;S&&S!==p;)u-=S.scrollTop,h-=S.scrollLeft,S=S.parentElement;p&&p!==c&&p!==y&&(u-=p.scrollTop,h-=p.scrollLeft),m=p}return{top:u,left:h}}function lt(m){Ut={x:m.clientX,y:m.clientY}}function $t(m,c){let u=m.relatedTarget;return!(u instanceof Node&&c.contains(u))}function Pi(m,c){return!!(m&&c&&m.right>c.left&&m.left<c.right&&m.bottom>c.top&&m.top<c.bottom)}var Gt=new WeakMap;function Mi(m,c,u,h,y,p,...S){u&&u.matches('.workspace-leaf-content[data-type="calendar"] table.calendar td > div')&&(u=u.parentElement);let P=Gt.has(u)?Gt.get(u):c.hoverPopover;if(P==null?void 0:P.lockedOut)return;if(P&&P.state!==Ee.PopoverState.Hidden&&(!P.isPinned||m.settings.autoPin==="always")&&P.targetEl!==null&&P.originalLinkText===h&&P.originalPath===y&&u&&P.adopt(u))Gt.set(u,P);else{let k=new Z(c,u,m,m.settings.triggerDelay);u&&Gt.set(u,k),k.originalLinkText=h,k.originalPath=y,c.hoverPopover=k;let Y=k.abortController,O=function(){!k||(k.lockedOut=!1)},q=function(W){!k||W.target instanceof HTMLElement&&!W.target.closest(".hover-editor, .menu")&&(k.state=Ee.PopoverState.Hidden,k.hide(),k.lockedOut=!0,setTimeout(O,1e3))},B=function(W){if(!k)return;let D=Ee.Platform.isMacOS?"Meta":"Control";!k.onHover&&k.state!==Ee.PopoverState.Shown&&W.key!==D?(k.state=Ee.PopoverState.Hidden,k.hide(),k.lockedOut=!0,setTimeout(O,1e3)):document.body.removeEventListener("keyup",B,!0)};document.body.addEventListener("mousedown",q,!0),document.body.addEventListener("keyup",B,!0),Y.register(()=>{document.body.removeEventListener("mousedown",q,!0),document.body.removeEventListener("keyup",B,!0)}),setTimeout(()=>{(k==null?void 0:k.state)!=Ee.PopoverState.Hidden&&(k==null||k.openLink(h,y,p))},100)}}var te=rt(require("obsidian"));function zn(m){let c=_i(),[u,h]=c(m);if(!u)return!1;if(h||(h="px"),["em","ex","ch","rem","vw","vh","vmin","vmax","%","cm","mm","in","px","pt","pc"].contains(h))return u+h}var Zt={defaultMode:"preview",autoPin:"onMove",triggerDelay:300,closeDelay:600,autoFocus:!0,rollDown:!1,snapToEdges:!1,initialHeight:"340px",initialWidth:"400px",showViewHeader:!1,imageZoom:!0,hoverEmbeds:!1},ya={preview:"Reading view",source:"Editing view",match:"Match current view"},ba={onMove:"On drag or resize",always:"Always"},Fn=class extends te.PluginSettingTab{constructor(c,u){super(c,u);this.plugin=u}hide(){}display(){let{containerEl:c}=this;c.empty(),new te.Setting(c).setName("Default Mode").addDropdown(u=>{u.addOptions(ya),u.setValue(this.plugin.settings.defaultMode),u.onChange(async h=>{this.plugin.settings.defaultMode=h,await this.plugin.saveSettings()})}),new te.Setting(c).setName("Auto Pin").addDropdown(u=>{u.addOptions(ba),u.setValue(this.plugin.settings.autoPin),u.onChange(async h=>{this.plugin.settings.autoPin=h,await this.plugin.saveSettings()})}),new te.Setting(c).setName("Trigger hover preview on embeds").setDesc("Allow hover preview to trigger when hovering over any type of rendered embed such as images or block references").addToggle(u=>u.setValue(this.plugin.settings.hoverEmbeds).onChange(h=>{this.plugin.settings.hoverEmbeds=h,this.plugin.saveSettings()})),new te.Setting(c).setName("Auto Focus").setDesc("Set the hover editor as the active pane when opened").addToggle(u=>u.setValue(this.plugin.settings.autoFocus).onChange(h=>{this.plugin.settings.autoFocus=h,this.plugin.saveSettings()})),new te.Setting(c).setName("Minimize downwards").setDesc("When double clicking to minimize, the window will roll down instead of rolling up").addToggle(u=>u.setValue(this.plugin.settings.rollDown).onChange(h=>{this.plugin.settings.rollDown=h,this.plugin.saveSettings()})),new te.Setting(c).setName("Snap to edges").setDesc(`Quickly arrange popovers by dragging them to the edges of the screen. The left and right edges 
        will maximize the popover vertically. The top edge will maximize the popover to fill the entire 
        screen. Dragging the popovers away from the edges will restore the popver to its original size.`).addToggle(u=>u.setValue(this.plugin.settings.snapToEdges).onChange(h=>{this.plugin.settings.snapToEdges=h,this.plugin.saveSettings()})),new te.Setting(c).setName("Show view header by default").setDesc(`Show the view header by default when triggering a hover editor.
         When disabled, view headers will only show if you click the view header icon to the left of the minimize button.`).addToggle(u=>u.setValue(this.plugin.settings.showViewHeader).onChange(h=>{this.plugin.settings.showViewHeader=h,this.plugin.saveSettings()})),new te.Setting(c).setName("Click to zoom image").setDesc(`Click and hold an image within a hover editor to temporarily maximize the popover and image to fill the entire viewport. 
        On mouse up, the hover editor will restore to its original size.`).addToggle(u=>u.setValue(this.plugin.settings.imageZoom).onChange(h=>{this.plugin.settings.imageZoom=h,this.plugin.saveSettings()})),new te.Setting(c).setName("Initial popover width").setDesc("Enter any valid CSS unit").addText(u=>{u.setPlaceholder(this.plugin.settings.initialWidth),u.inputEl.type="text",u.setValue(this.plugin.settings.initialWidth),u.onChange(async h=>{h=zn(h),h||(h=Zt.initialWidth),this.plugin.settings.initialWidth=h,this.plugin.saveSettings()})}),new te.Setting(c).setName("Initial popover height").setDesc("Enter any valid CSS unit").addText(u=>{u.setPlaceholder(String(this.plugin.settings.initialHeight)),u.inputEl.type="text",u.setValue(String(this.plugin.settings.initialHeight)),u.onChange(async h=>{h=zn(h),h||(h=Zt.initialHeight),this.plugin.settings.initialHeight=h,this.plugin.saveSettings()})}),new te.Setting(c).setName("Hover Trigger Delay (ms)").setDesc("How long to wait before showing a Hover Editor when hovering over a link").addText(u=>{u.setPlaceholder(String(this.plugin.settings.triggerDelay)),u.inputEl.type="number",u.setValue(String(this.plugin.settings.triggerDelay)),u.onChange(async h=>{this.plugin.settings.triggerDelay=Number(h),this.plugin.saveSettings()})}),new te.Setting(c).setName("Hover Close Delay (ms)").setDesc("How long to wait before closing a Hover Editor once the mouse leaves").addText(u=>{u.setPlaceholder(String(this.plugin.settings.closeDelay)),u.inputEl.type="number",u.setValue(String(this.plugin.settings.closeDelay)),u.onChange(async h=>{this.plugin.settings.closeDelay=Number(h),this.plugin.saveSettings()})})}};var Wn=class extends K.Plugin{constructor(){super(...arguments);this.debouncedPopoverReflow=(0,K.debounce)(()=>{Z.activePopovers().forEach(c=>{var u;(u=c.interact)==null||u.reflow({name:"drag",axis:"xy"})})},100,!0)}async onload(){this.registerActivePopoverHandler(),this.registerFileRenameHandler(),this.registerViewportResizeHandler(),this.registerContextMenuHandler(),this.registerCommands(),this.patchUnresolvedGraphNodeHover(),this.patchWorkspace(),this.patchQuickSwitcher(),this.patchWorkspaceLeaf(),this.patchItemView(),this.patchMarkdownPreviewRenderer(),await this.loadSettings(),this.registerSettingsTab(),this.app.workspace.onLayoutReady(()=>{this.patchSlidingPanes(),this.patchLinkHover(),setTimeout(()=>{this.app.workspace.trigger("css-change")},2e3)})}get activePopovers(){return Z.activePopovers()}patchWorkspaceLeaf(){this.register(le(K.WorkspaceLeaf.prototype,{getRoot(c){return function(){let u=c.call(this);return u.getRoot===this.getRoot?u:u.getRoot()}},onResize(c){return function(){var u;(u=this.view)==null||u.onResize()}},setViewState(c){return async function(u,h){var p,S,P;let y=await c.call(this,u,h);try{let M=Z.forLeaf(this);if(M){u.type&&M.hoverEl.setAttribute("data-active-view-type",u.type);let k=M.hoverEl.querySelector(".popover-title");k&&(k.textContent=(p=this.view)==null?void 0:p.getDisplayText(),((P=(S=this.view)==null?void 0:S.file)==null?void 0:P.path)?k.setAttribute("data-path",this.view.file.path):k.removeAttribute("data-path"))}}catch(M){}return y}},setEphemeralState(c){return function(u){var h;c.call(this,u),u.focus&&((h=this.view)==null?void 0:h.getViewType())==="empty"&&(this.view.contentEl.tabIndex=-1,this.view.contentEl.focus())}}}))}patchQuickSwitcher(){let c=this,{QuickSwitcherModal:u}=this.app.internalPlugins.plugins.switcher.instance,h=le(u.prototype,{open(y){return function(){let p=y.call(this);return this.setInstructions([{command:K.Platform.isMacOS?"cmd p":"ctrl p",purpose:"to open in new popover"}]),this.scope.register(["Mod"],"p",S=>{this.close();let P=this.chooser.values[this.chooser.selectedItem];if(!(P==null?void 0:P.file))return;let M=c.spawnPopover(void 0,()=>this.app.workspace.setActiveLeaf(M,!1,!0));return M.openFile(P.file),!1}),p}}});this.register(h)}patchItemView(){let c=this,u=le(K.ItemView.prototype,{onMoreOptionsMenu(h){return function(y,...p){return(this.leaf?Z.forLeaf(this.leaf):void 0)?y.addItem(P=>{P.setIcon("popup-open").setTitle("Dock Hover Editor to workspace").onClick(()=>{c.dockPopoverToWorkspace(this.leaf)})}):(y.addItem(P=>{P.setIcon("popup-open").setTitle("Open in Hover Editor").onClick(()=>{var k;let M=c.spawnPopover();((k=this.leaf)==null?void 0:k.getViewState)&&M.setViewState(this.leaf.getViewState())})}),y.addItem(P=>{P.setIcon("popup-open").setTitle("Convert to Hover Editor").onClick(()=>{c.convertLeafToPopover(this.leaf)})})),h.call(this,y,...p)}}});this.register(u)}patchMarkdownPreviewRenderer(){let c=this,u=le(K.MarkdownPreviewRenderer,{registerDomEvents(h){return function(y,p,...S){return y==null||y.on("mouseover",".internal-embed.is-loaded",(P,M)=>{var k;M&&c.settings.hoverEmbeds&&p.app.workspace.trigger("hover-link",{event:P,source:p.hoverParent.type==="source"?"editor":"preview",hoverParent:p.hoverParent,targetEl:M,linktext:M.getAttribute("src"),sourcePath:((k=p.getFile())==null?void 0:k.path)||""})}),h.call(this,y,p,...S)}}});this.register(u)}patchWorkspace(){let c=!1,u=le(K.Workspace.prototype,{changeLayout(h){return async function(y){c=!0;try{await h.call(this,y)}finally{c=!1}}},recordHistory(h){return function(y,p,...S){var M;if(!(!((M=this.app.plugins.plugins["pane-relief"])==null?void 0:M._loaded)&&st(y)))return h.call(this,y,p,...S)}},iterateAllLeaves(h){return function(y){this.iterateRootLeaves(y),this.iterateLeaves(y,this.leftSplit),this.iterateLeaves(y,this.rightSplit)}},iterateRootLeaves(h){return function(y){return h.call(this,y)||!c&&Z.iteratePopoverLeaves(this,y)}},getDropLocation(h){return function(p){for(let S of Z.activePopovers()){let P=this.recursiveGetTarget(p,S.rootSplit);if(P)return{target:P,sidedock:!1}}return h.call(this,p)}},onDragLeaf(h){return function(y,p){let S=Z.forLeaf(p);return S==null||S.togglePin(!0),h.call(this,y,p)}}});this.register(u)}patchSlidingPanes(){var u;let c=(u=this.app.plugins.plugins["sliding-panes-obsidian"])==null?void 0:u.constructor;if(c){let h=le(c.prototype,{handleFileOpen(y){return function(...p){if(!st(this.app.workspace.activeLeaf))return y.call(this,...p)}},handleLayoutChange(y){return function(...p){if(!st(this.app.workspace.activeLeaf))return y.call(this,...p)}},focusActiveLeaf(y){return function(...p){if(!st(this.app.workspace.activeLeaf))return y.call(this,...p)}}});this.register(h)}}patchLinkHover(){let c=this,u=this.app.internalPlugins.plugins["page-preview"];if(!u.enabled)return;let h=le(u.instance.constructor.prototype,{onHoverLink(y){return function(p,...S){return p&&p.event instanceof MouseEvent&&lt(p.event),y.call(this,p,...S)}},onLinkHover(y){return function(p,S,P,M,k,...Y){Mi(c,p,S,P,M,k,...Y)}}});this.register(h),u.disable(),u.enable(),c.register(function(){!u.enabled||(u.disable(),u.enable())})}registerContextMenuHandler(){this.registerEvent(this.app.workspace.on("file-menu",(c,u,h,y)=>{let p=y?Z.forLeaf(y):void 0;u instanceof K.TFile&&!p&&!y&&c.addItem(S=>{S.setIcon("popup-open").setTitle("Open in Hover Editor").onClick(()=>{this.spawnPopover().openFile(u)})})}))}registerActivePopoverHandler(){this.registerEvent(this.app.workspace.on("active-leaf-change",c=>{var h,y,p,S,P;(h=document.querySelector("body > .popover.hover-popover.is-active"))==null||h.removeClass("is-active");let u=c?Z.forLeaf(c):void 0;if(u&&c){u.hoverEl.addClass("is-active");let M=u.hoverEl.querySelector(".popover-title");if(!M)return;M.textContent=(y=c.view)==null?void 0:y.getDisplayText(),((p=c==null?void 0:c.view)==null?void 0:p.getViewType())&&u.hoverEl.setAttribute("data-active-view-type",c.view.getViewType()),((P=(S=c.view)==null?void 0:S.file)==null?void 0:P.path)?M.setAttribute("data-path",c.view.file.path):M.removeAttribute("data-path")}}))}registerFileRenameHandler(){this.app.vault.on("rename",(c,u)=>{Z.iteratePopoverLeaves(this.app.workspace,h=>{var y,p;if(c===((y=h==null?void 0:h.view)==null?void 0:y.file)&&c instanceof K.TFile){let S=Z.forLeaf(h);if(S==null?void 0:S.hoverEl){let P=S.hoverEl.querySelector(".popover-title");if(!P)return;let M=P.getAttribute("data-path");u===M&&(P.textContent=(p=h.view)==null?void 0:p.getDisplayText(),P.setAttribute("data-path",c.path))}}})})}registerViewportResizeHandler(){window.addEventListener("resize",this.debouncedPopoverReflow),this.register(()=>{window.removeEventListener("resize",this.debouncedPopoverReflow)})}patchUnresolvedGraphNodeHover(){var p,S;let c=new K.WorkspaceLeaf(this.app),u=this.app.internalPlugins.plugins.graph.views.localgraph(c),h=u.engine.constructor;c.detach(),(S=(p=u.renderer)==null?void 0:p.worker)==null||S.terminate();let y=le(h.prototype,{onNodeHover(P){return function(M,k,Y,...O){if(Y==="unresolved"){if(this.onNodeUnhover(),M instanceof MouseEvent){if(this.hoverPopover&&this.hoverPopover.state!==K.PopoverState.Hidden&&this.lastHoverLink===k)return this.hoverPopover.onTarget=!0,void this.hoverPopover.transition();this.lastHoverLink=k,this.app.workspace.trigger("hover-link",{event:M,source:"graph",hoverParent:this,targetEl:null,linktext:k})}}else return P.call(this,M,k,Y,...O)}}});this.register(y),c.detach()}onunload(){Z.activePopovers().forEach(c=>c.hide())}async loadSettings(){this.settings=Object.assign({},Zt,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}registerCommands(){this.addCommand({id:"bounce-popovers",name:"Toggle bouncing popovers",callback:()=>{this.activePopovers.forEach(c=>{c.toggleBounce()})}}),this.addCommand({id:"open-new-popover",name:"Open new Hover Editor",callback:()=>{let c=this.spawnPopover(void 0,()=>this.app.workspace.setActiveLeaf(c,!1,!0))}}),this.addCommand({id:"open-link-in-new-popover",name:"Open link under cursor in new Hover Editor",checkCallback:c=>{let u=this.app.workspace.getActiveViewOfType(K.MarkdownView);if(u){if(!c){let h=u.editor.getClickableTokenAt(u.editor.getCursor());if((h==null?void 0:h.type)==="internal-link"){let y=this.spawnPopover(void 0,()=>this.app.workspace.setActiveLeaf(y,!1,!0));y.openLinkText(h.text,u.file.path)}}return!0}return!1}}),this.addCommand({id:"open-current-file-in-new-popover",name:"Open current file in new Hover Editor",checkCallback:c=>{let u=this.app.workspace.getActiveViewOfType(K.MarkdownView);if(u){if(!c){let h=this.spawnPopover(void 0,()=>this.app.workspace.setActiveLeaf(h,!1,!0));h.openFile(u.file)}return!0}return!1}}),this.addCommand({id:"convert-active-pane-to-popover",name:"Convert active pane to Hover Editor",checkCallback:c=>{let{activeLeaf:u}=this.app.workspace;return u?(c||this.convertLeafToPopover(u),!0):!1}}),this.addCommand({id:"dock-active-popover-to-workspace",name:"Dock active Hover Editor to workspace",checkCallback:c=>{let{activeLeaf:u}=this.app.workspace;return u&&Z.forLeaf(u)?(c||this.dockPopoverToWorkspace(u),!0):!1}}),this.addCommand({id:"restore-active-popover",name:"Restore active Hover Editor",checkCallback:c=>xi(c)}),this.addCommand({id:"minimize-active-popover",name:"Minimize active Hover Editor",checkCallback:c=>Si(c)}),wi.forEach(c=>{this.addCommand({id:`snap-active-popover-to-${c}`,name:`Snap active Hover Editor to ${c}`,checkCallback:u=>Ei(c,u)})})}convertLeafToPopover(c){if(!c)return;let u=this.spawnPopover(void 0,()=>{let{parentSplit:h}=u,{parentSplit:y}=c;y.removeChild(c),h.replaceChild(0,c,!0),this.app.workspace.setActiveLeaf(c,!1,!0)});return u}dockPopoverToWorkspace(c){if(!!c)return c.parentSplit.removeChild(c),this.app.workspace.rootSplit.insertChild(-1,c),c}spawnPopover(c,u){let h=this.app.workspace.activeLeaf;c||(c=h.containerEl);let y=new Z(h,c,this,void 0,u);return y.togglePin(!0),y.attachLeaf()}registerSettingsTab(){this.settingsTab=new Fn(this.app,this),this.addSettingTab(this.settingsTab)}};function Ln(m){let c=[];for(let u=0;u<m;u++)c.push((16*Math.random()|0).toString(16));return c.join("")}
